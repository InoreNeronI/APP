{"version":3,"file":"162.b5cbee05840d5e42.js","mappings":"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","names":["i0","RegisterComponent","Particles","constructor","http","router","toastr","translateService","super","this","form","UntypedFormGroup","firstName","UntypedFormControl","Validators","required","lastName","email","password","loading","ngOnInit","drawParticles","register","make","value","_this","post","environment","api","user","observe","plainPassword","pipe","catchError","err","error","throwError","subscribe","_ref","_asyncToGenerator","response","hasOwnProperty","info","instant","navigate","_x","apply","arguments","static","t","i1","i2","i3","i4","core","Xpm","selectors","features","decls","vars","consts","template","rf","ctx","RegisterComponent_span_11_Template","RegisterComponent_span_17_Template","RegisterComponent_span_23_Template","RegisterComponent_span_29_Template","RegisterComponent_div_30_Template","RegisterComponent_img_35_Template","_c0","controls","touched","errors","valid","_c1","ctx_r2","LoginComponent","login","localStorage","setItem","JSON","parse","roles","content","LoginComponent_span_11_Template","LoginComponent_span_17_Template","LoginComponent_div_18_Template","routes","path","component","AuthRoutingModule","oAB","cJS","RouterModule","forChild","AuthModule","CommonModule","FormsModule","ReactiveFormsModule","TranslateModule"],"sourceRoot":"webpack:///","sources":["./src/app/modules/auth/components/register/register.component.html","./src/app/modules/auth/components/register/register.component.ts","./src/app/modules/auth/components/login/login.component.html","./src/app/modules/auth/components/login/login.component.ts","./src/app/modules/auth/auth-routing.module.ts","./src/app/modules/auth/auth.module.ts"],"sourcesContent":["<canvas class=\"canvas-background\"></canvas>\n<div class=\"container\">\n  <h2 class=\"text-center\">{{ 'REGISTER' | translate }}</h2>\n  <form name=\"form\" [formGroup]=\"form\" role=\"form\" (ngSubmit)=\"register()\">\n    <div class=\"form-group\" [ngClass]=\"{ 'has-error': form.controls.firstName.touched && form.controls.firstName.errors?.required }\">\n      <label for=\"firstName\" role=\"button\">{{ 'FIRST_NAME' | translate }}</label>\n      <input type=\"text\" name=\"firstName\" formControlName=\"firstName\" id=\"firstName\" class=\"form-control\" required />\n      <span *ngIf=\"form.controls.firstName.touched && form.controls.firstName.errors?.required\" class=\"form-text\">{{ 'FIRST_NAME_REQUIRED' | translate }}</span>\n    </div>\n    <div class=\"form-group\" [ngClass]=\"{ 'has-error': form.controls.lastName.touched && form.controls.lastName.errors?.required }\">\n      <label for=\"lastName\" role=\"button\">{{ 'LAST_NAME' | translate }}</label>\n      <input type=\"text\" name=\"lastName\" formControlName=\"lastName\" id=\"lastName\" class=\"form-control\" required />\n      <span *ngIf=\"form.controls.lastName.touched && form.controls.lastName.errors?.required\" class=\"form-text\">{{ 'LAST_NAME_REQUIRED' | translate }}</span>\n    </div>\n    <div class=\"form-group\" [ngClass]=\"{ 'has-error': form.controls.email.touched && form.controls.email.errors?.required }\">\n      <label for=\"email\" role=\"button\">{{ 'EMAIL' | translate }}</label>\n      <input type=\"text\" name=\"email\" id=\"email\" formControlName=\"email\" class=\"form-control\" required />\n      <span *ngIf=\"form.controls.email.touched && form.controls.email.errors?.required\" class=\"form-text\">{{ 'EMAIL_REQUIRED' | translate }}</span>\n    </div>\n    <div class=\"form-group\" [ngClass]=\"{ 'has-error': form.controls.password.touched && form.controls.password.errors?.required }\">\n      <label for=\"password\" role=\"button\">{{ 'PASSWORD' | translate }}</label>\n      <input type=\"password\" name=\"password\" id=\"password\" formControlName=\"password\" class=\"form-control\" required />\n      <span *ngIf=\"form.controls.password.touched && form.controls.password.errors?.required\" class=\"form-text\">{{ 'PASSWORD_REQUIRED' | translate }}</span>\n    </div>\n    <div class=\"alert alert-danger mb-0 mt-3 px-2 py-1\" role=\"alert\" *ngIf=\"error\">\n      {{ 'EMAIL_EXISTS' | translate }}\n    </div>\n    <div class=\"form-actions mt-3 text-center\">\n      <button type=\"submit\" [disabled]=\"!form.valid && !loading\" class=\"btn btn-outline-primary me-3\">\n        {{ 'REGISTER' | translate }}\n      </button>\n      <img\n        *ngIf=\"loading\"\n        alt=\"loading\"\n        src=\"data:image/gif;base64,R0lGODlhEAAQAPIAAP///wAAAMLCwkJCQgAAAGJiYoKCgpKSkiH/C05FVFNDQVBFMi4wAwEAAAAh/hpDcmVhdGVkIHdpdGggYWpheGxvYWQuaW5mbwAh+QQJCgAAACwAAAAAEAAQAAADMwi63P4wyklrE2MIOggZnAdOmGYJRbExwroUmcG2LmDEwnHQLVsYOd2mBzkYDAdKa+dIAAAh+QQJCgAAACwAAAAAEAAQAAADNAi63P5OjCEgG4QMu7DmikRxQlFUYDEZIGBMRVsaqHwctXXf7WEYB4Ag1xjihkMZsiUkKhIAIfkECQoAAAAsAAAAABAAEAAAAzYIujIjK8pByJDMlFYvBoVjHA70GU7xSUJhmKtwHPAKzLO9HMaoKwJZ7Rf8AYPDDzKpZBqfvwQAIfkECQoAAAAsAAAAABAAEAAAAzMIumIlK8oyhpHsnFZfhYumCYUhDAQxRIdhHBGqRoKw0R8DYlJd8z0fMDgsGo/IpHI5TAAAIfkECQoAAAAsAAAAABAAEAAAAzIIunInK0rnZBTwGPNMgQwmdsNgXGJUlIWEuR5oWUIpz8pAEAMe6TwfwyYsGo/IpFKSAAAh+QQJCgAAACwAAAAAEAAQAAADMwi6IMKQORfjdOe82p4wGccc4CEuQradylesojEMBgsUc2G7sDX3lQGBMLAJibufbSlKAAAh+QQJCgAAACwAAAAAEAAQAAADMgi63P7wCRHZnFVdmgHu2nFwlWCI3WGc3TSWhUFGxTAUkGCbtgENBMJAEJsxgMLWzpEAACH5BAkKAAAALAAAAAAQABAAAAMyCLrc/jDKSatlQtScKdceCAjDII7HcQ4EMTCpyrCuUBjCYRgHVtqlAiB1YhiCnlsRkAAAOwAAAAAAAAAAAA==\"\n      />\n      <button [routerLink]=\"['/auth']\" class=\"btn btn-outline\">{{ 'CANCEL' | translate }}</button>\n    </div>\n  </form>\n</div>\n","import { Component, OnInit } from '@angular/core';\nimport { HttpClient } from '@angular/common/http';\nimport { UntypedFormControl, UntypedFormGroup, Validators } from '@angular/forms';\nimport { Router } from '@angular/router';\nimport { TranslateService } from '@ngx-translate/core';\nimport { ToastrService } from 'ngx-toastr';\nimport { catchError } from 'rxjs/operators';\nimport { throwError } from 'rxjs';\nimport { Particles } from '../../../../particles';\nimport { environment } from '../../../../../environments/environment';\n\n@Component({\n  selector: 'app-register',\n  templateUrl: './register.component.html',\n})\nexport class RegisterComponent extends Particles implements OnInit {\n  error: any;\n  form: UntypedFormGroup = new UntypedFormGroup({\n    firstName: new UntypedFormControl('', Validators.required),\n    lastName: new UntypedFormControl('', Validators.required),\n    email: new UntypedFormControl('', [Validators.email, Validators.required]),\n    password: new UntypedFormControl('', Validators.required),\n  });\n  loading = true;\n\n  constructor(\n    private http: HttpClient,\n    private router: Router,\n    private toastr: ToastrService,\n    private translateService: TranslateService,\n  ) {\n    super();\n  }\n\n  ngOnInit(): void {\n    this.loading = false;\n    this.drawParticles();\n  }\n\n  register(): void {\n    this.make(this.form.value);\n  }\n\n  make({ firstName, lastName, email, password }) {\n    return this.http\n      .post(environment.api.user, {\n        observe: 'response',\n        firstName,\n        lastName,\n        email,\n        plainPassword: password,\n      })\n      .pipe(\n        catchError((err) => {\n          this.error = err.error;\n          return throwError(err);\n        }),\n      )\n      .subscribe(async (response) => {\n        if (response.hasOwnProperty('email')) {\n          this.loading = true;\n          this.toastr.info(this.translateService.instant('SIGNED_UP', { email: response['email'] }));\n          await this.router.navigate(['/auth']);\n        }\n      });\n  }\n}\n","<canvas class=\"canvas-background\"></canvas>\n<div class=\"container\">\n  <h2 class=\"text-center\">{{ 'LOGIN' | translate }}</h2>\n  <form name=\"form\" [formGroup]=\"form\" role=\"form\" (ngSubmit)=\"login()\">\n    <div class=\"form-group\" [ngClass]=\"{ 'has-error': form.controls.email.touched && form.controls.email.errors?.required }\">\n      <label for=\"email\" role=\"button\">{{ 'EMAIL' | translate }}</label>\n      <input type=\"text\" id=\"email\" formControlName=\"email\" class=\"form-control\" required />\n      <span *ngIf=\"form.controls.email.touched && form.controls.email.errors?.required\" class=\"form-text\">{{ 'EMAIL_REQUIRED' | translate }}</span>\n    </div>\n    <div class=\"form-group\" [ngClass]=\"{ 'has-error': form.controls.password.touched && form.controls.password.errors?.required }\">\n      <label for=\"password\" role=\"button\">{{ 'PASSWORD' | translate }}</label>\n      <input type=\"password\" id=\"password\" formControlName=\"password\" class=\"form-control\" required />\n      <span *ngIf=\"form.controls.password.touched && form.controls.password.errors?.required\" class=\"form-text\">{{ 'PASSWORD_REQUIRED' | translate }}</span>\n    </div>\n    <div class=\"alert alert-danger mb-0 mt-3 px-2 py-1\" role=\"alert\" *ngIf=\"error\">{{ error.error | translate }}</div>\n    <div class=\"form-actions mt-3 text-center\">\n      <button type=\"submit\" [disabled]=\"!form.valid && !loading\" class=\"btn btn-outline-primary me-3\">\n        {{ 'LOGIN' | translate }}\n      </button>\n      <button [routerLink]=\"['/auth/register']\" class=\"btn btn-outline\">{{ 'REGISTER' | translate }}</button>\n    </div>\n  </form>\n</div>\n","import { Component, OnInit } from '@angular/core';\nimport { HttpClient } from '@angular/common/http';\nimport { UntypedFormControl, UntypedFormGroup, Validators } from '@angular/forms';\nimport { Router } from '@angular/router';\nimport { TranslateService } from '@ngx-translate/core';\nimport { ToastrService } from 'ngx-toastr';\nimport { catchError } from 'rxjs/operators';\nimport { throwError } from 'rxjs';\nimport { Particles } from '../../../../particles';\nimport { environment } from '../../../../../environments/environment';\n\n@Component({\n  selector: 'app-auth',\n  templateUrl: './login.component.html',\n})\nexport class LoginComponent extends Particles implements OnInit {\n  error: any;\n  form: UntypedFormGroup = new UntypedFormGroup({\n    email: new UntypedFormControl('', [Validators.required, Validators.email]),\n    password: new UntypedFormControl('', Validators.required),\n  });\n  loading = true;\n\n  constructor(\n    private http: HttpClient,\n    private router: Router,\n    private toastr: ToastrService,\n    private translateService: TranslateService,\n  ) {\n    super();\n  }\n\n  ngOnInit(): void {\n    this.loading = false;\n    this.drawParticles();\n  }\n\n  login(): void {\n    this.make(this.form.value);\n  }\n\n  make({ email, password }) {\n    return this.http\n      .post(environment.api.login, { observe: 'response', email, password })\n      .pipe(\n        catchError((err) => {\n          this.error = err.error;\n          return throwError(err);\n        }),\n      )\n      .subscribe(async (response) => {\n        if (response.hasOwnProperty('roles')) {\n          this.loading = true;\n          localStorage.setItem('currentUser', email);\n          localStorage.setItem('currentRole', JSON.parse(response['roles'].content)[0]);\n          this.toastr.info(this.translateService.instant('LOGGED_IN'));\n          await this.router.navigate(['/']);\n        }\n      });\n  }\n}\n","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\nimport { RegisterComponent } from './components/register/register.component';\nimport { LoginComponent } from './components/login/login.component';\n\nconst routes: Routes = [\n  { path: 'register', component: RegisterComponent },\n  { path: 'login', component: LoginComponent },\n  { path: '', component: LoginComponent },\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class AuthRoutingModule {}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\n\nimport { AuthRoutingModule } from './auth-routing.module';\nimport { LoginComponent } from './components/login/login.component';\nimport { RegisterComponent } from './components/register/register.component';\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\nimport { TranslateModule } from '@ngx-translate/core';\n\n@NgModule({\n  declarations: [LoginComponent, RegisterComponent],\n  imports: [CommonModule, AuthRoutingModule, FormsModule, ReactiveFormsModule, TranslateModule],\n})\nexport class AuthModule {}\n"],"x_google_ignoreList":[]}