{"version":3,"file":"162.c8ac55c97c35ef30.js","mappings":"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","names":["i0","RegisterComponent","constructor","http","router","toastr","translateService","this","form","UntypedFormGroup","firstName","UntypedFormControl","Validators","required","lastName","email","password","loading","ngOnInit","register","make","value","_this","post","environment","api","user","observe","plainPassword","pipe","catchError","err","error","throwError","subscribe","_ref","_asyncToGenerator","response","hasOwnProperty","info","instant","navigate","_x","apply","arguments","static","t","i1","i2","i3","i4","core","Xpm","selectors","decls","vars","consts","template","rf","ctx","RegisterComponent_span_10_Template","RegisterComponent_span_16_Template","RegisterComponent_span_22_Template","RegisterComponent_span_28_Template","RegisterComponent_div_29_Template","RegisterComponent_img_34_Template","_c0","controls","touched","errors","valid","_c1","ctx_r2","LoginComponent","login","localStorage","setItem","JSON","parse","roles","content","LoginComponent_span_10_Template","LoginComponent_span_16_Template","LoginComponent_div_17_Template","routes","path","component","AuthRoutingModule","oAB","cJS","RouterModule","forChild","AuthModule","CommonModule","FormsModule","ReactiveFormsModule","TranslateModule"],"sourceRoot":"webpack:///","sources":["./src/app/modules/auth/components/register/register.component.html","./src/app/modules/auth/components/register/register.component.ts","./src/app/modules/auth/components/login/login.component.html","./src/app/modules/auth/components/login/login.component.ts","./src/app/modules/auth/auth-routing.module.ts","./src/app/modules/auth/auth.module.ts"],"sourcesContent":["<div class=\"container\">\n  <h2 class=\"text-center\">{{ 'REGISTER' | translate }}</h2>\n  <form name=\"form\" [formGroup]=\"form\" role=\"form\" (ngSubmit)=\"register()\">\n    <div class=\"form-group\" [ngClass]=\"{ 'has-error': form.controls.firstName.touched && form.controls.firstName.errors?.required }\">\n      <label for=\"firstName\" role=\"button\">{{ 'FIRST_NAME' | translate }}</label>\n      <input type=\"text\" name=\"firstName\" formControlName=\"firstName\" id=\"firstName\" class=\"form-control\" required />\n      <span *ngIf=\"form.controls.firstName.touched && form.controls.firstName.errors?.required\" class=\"form-text\">{{ 'FIRST_NAME_REQUIRED' | translate }}</span>\n    </div>\n    <div class=\"form-group\" [ngClass]=\"{ 'has-error': form.controls.lastName.touched && form.controls.lastName.errors?.required }\">\n      <label for=\"lastName\" role=\"button\">{{ 'LAST_NAME' | translate }}</label>\n      <input type=\"text\" name=\"lastName\" formControlName=\"lastName\" id=\"lastName\" class=\"form-control\" required />\n      <span *ngIf=\"form.controls.lastName.touched && form.controls.lastName.errors?.required\" class=\"form-text\">{{ 'LAST_NAME_REQUIRED' | translate }}</span>\n    </div>\n    <div class=\"form-group\" [ngClass]=\"{ 'has-error': form.controls.email.touched && form.controls.email.errors?.required }\">\n      <label for=\"email\" role=\"button\">{{ 'EMAIL' | translate }}</label>\n      <input type=\"text\" name=\"email\" id=\"email\" formControlName=\"email\" class=\"form-control\" required />\n      <span *ngIf=\"form.controls.email.touched && form.controls.email.errors?.required\" class=\"form-text\">{{ 'EMAIL_REQUIRED' | translate }}</span>\n    </div>\n    <div class=\"form-group\" [ngClass]=\"{ 'has-error': form.controls.password.touched && form.controls.password.errors?.required }\">\n      <label for=\"password\" role=\"button\">{{ 'PASSWORD' | translate }}</label>\n      <input type=\"password\" name=\"password\" id=\"password\" formControlName=\"password\" class=\"form-control\" required />\n      <span *ngIf=\"form.controls.password.touched && form.controls.password.errors?.required\" class=\"form-text\">{{ 'PASSWORD_REQUIRED' | translate }}</span>\n    </div>\n    <div class=\"alert alert-danger mb-0 mt-3 px-2 py-1\" role=\"alert\" *ngIf=\"error\">\n      {{ 'EMAIL_EXISTS' | translate }}\n    </div>\n    <div class=\"form-actions mt-3 text-center\">\n      <button type=\"submit\" [disabled]=\"!form.valid && !loading\" class=\"btn btn-outline-primary me-3\">\n        {{ 'REGISTER' | translate }}\n      </button>\n      <img\n        *ngIf=\"loading\"\n        alt=\"loading\"\n        src=\"data:image/gif;base64,R0lGODlhEAAQAPIAAP///wAAAMLCwkJCQgAAAGJiYoKCgpKSkiH/C05FVFNDQVBFMi4wAwEAAAAh/hpDcmVhdGVkIHdpdGggYWpheGxvYWQuaW5mbwAh+QQJCgAAACwAAAAAEAAQAAADMwi63P4wyklrE2MIOggZnAdOmGYJRbExwroUmcG2LmDEwnHQLVsYOd2mBzkYDAdKa+dIAAAh+QQJCgAAACwAAAAAEAAQAAADNAi63P5OjCEgG4QMu7DmikRxQlFUYDEZIGBMRVsaqHwctXXf7WEYB4Ag1xjihkMZsiUkKhIAIfkECQoAAAAsAAAAABAAEAAAAzYIujIjK8pByJDMlFYvBoVjHA70GU7xSUJhmKtwHPAKzLO9HMaoKwJZ7Rf8AYPDDzKpZBqfvwQAIfkECQoAAAAsAAAAABAAEAAAAzMIumIlK8oyhpHsnFZfhYumCYUhDAQxRIdhHBGqRoKw0R8DYlJd8z0fMDgsGo/IpHI5TAAAIfkECQoAAAAsAAAAABAAEAAAAzIIunInK0rnZBTwGPNMgQwmdsNgXGJUlIWEuR5oWUIpz8pAEAMe6TwfwyYsGo/IpFKSAAAh+QQJCgAAACwAAAAAEAAQAAADMwi6IMKQORfjdOe82p4wGccc4CEuQradylesojEMBgsUc2G7sDX3lQGBMLAJibufbSlKAAAh+QQJCgAAACwAAAAAEAAQAAADMgi63P7wCRHZnFVdmgHu2nFwlWCI3WGc3TSWhUFGxTAUkGCbtgENBMJAEJsxgMLWzpEAACH5BAkKAAAALAAAAAAQABAAAAMyCLrc/jDKSatlQtScKdceCAjDII7HcQ4EMTCpyrCuUBjCYRgHVtqlAiB1YhiCnlsRkAAAOwAAAAAAAAAAAA==\"\n      />\n      <button [routerLink]=\"['/auth']\" class=\"btn btn-outline\">{{ 'CANCEL' | translate }}</button>\n    </div>\n  </form>\n</div>\n","import { Component, OnInit } from '@angular/core';\nimport { HttpClient } from '@angular/common/http';\nimport { UntypedFormControl, UntypedFormGroup, Validators } from '@angular/forms';\nimport { Router } from '@angular/router';\nimport { TranslateService } from '@ngx-translate/core';\nimport { ToastrService } from 'ngx-toastr';\nimport { catchError } from 'rxjs/operators';\nimport { throwError } from 'rxjs';\nimport { environment } from '../../../../../environments/environment';\n\n@Component({\n  selector: 'app-register',\n  templateUrl: './register.component.html',\n})\nexport class RegisterComponent implements OnInit {\n  error: any;\n  form: UntypedFormGroup = new UntypedFormGroup({\n    firstName: new UntypedFormControl('', Validators.required),\n    lastName: new UntypedFormControl('', Validators.required),\n    email: new UntypedFormControl('', [Validators.email, Validators.required]),\n    password: new UntypedFormControl('', Validators.required),\n  });\n  loading = true;\n\n  constructor(\n    private http: HttpClient,\n    private router: Router,\n    private toastr: ToastrService,\n    private translateService: TranslateService,\n  ) {}\n\n  ngOnInit(): void {\n    this.loading = false;\n  }\n\n  register(): void {\n    this.make(this.form.value);\n  }\n\n  make({ firstName, lastName, email, password }) {\n    return this.http\n      .post(environment.api.user, {\n        observe: 'response',\n        firstName,\n        lastName,\n        email,\n        plainPassword: password,\n      })\n      .pipe(\n        catchError((err) => {\n          this.error = err.error;\n          return throwError(err);\n        }),\n      )\n      .subscribe(async (response) => {\n        if (response.hasOwnProperty('email')) {\n          this.loading = true;\n          this.toastr.info(this.translateService.instant('SIGNED_UP', { email: response['email'] }));\n          await this.router.navigate(['/auth']);\n        }\n      });\n  }\n}\n","<div class=\"container\">\n  <h2 class=\"text-center\">{{ 'LOGIN' | translate }}</h2>\n  <form name=\"form\" [formGroup]=\"form\" role=\"form\" (ngSubmit)=\"login()\">\n    <div class=\"form-group\" [ngClass]=\"{ 'has-error': form.controls.email.touched && form.controls.email.errors?.required }\">\n      <label for=\"email\" role=\"button\">{{ 'EMAIL' | translate }}</label>\n      <input type=\"text\" id=\"email\" formControlName=\"email\" class=\"form-control\" required />\n      <span *ngIf=\"form.controls.email.touched && form.controls.email.errors?.required\" class=\"form-text\">{{ 'EMAIL_REQUIRED' | translate }}</span>\n    </div>\n    <div class=\"form-group\" [ngClass]=\"{ 'has-error': form.controls.password.touched && form.controls.password.errors?.required }\">\n      <label for=\"password\" role=\"button\">{{ 'PASSWORD' | translate }}</label>\n      <input type=\"password\" id=\"password\" formControlName=\"password\" class=\"form-control\" required />\n      <span *ngIf=\"form.controls.password.touched && form.controls.password.errors?.required\" class=\"form-text\">{{ 'PASSWORD_REQUIRED' | translate }}</span>\n    </div>\n    <div class=\"alert alert-danger mb-0 mt-3 px-2 py-1\" role=\"alert\" *ngIf=\"error\">{{ error.error | translate }}</div>\n    <div class=\"form-actions mt-3 text-center\">\n      <button type=\"submit\" [disabled]=\"!form.valid && !loading\" class=\"btn btn-outline-primary me-3\">\n        {{ 'LOGIN' | translate }}\n      </button>\n      <button [routerLink]=\"['/auth/register']\" class=\"btn btn-outline\">{{ 'REGISTER' | translate }}</button>\n    </div>\n  </form>\n</div>\n","import { Component, OnInit } from '@angular/core';\nimport { HttpClient } from '@angular/common/http';\nimport { UntypedFormControl, UntypedFormGroup, Validators } from '@angular/forms';\nimport { Router } from '@angular/router';\nimport { TranslateService } from '@ngx-translate/core';\nimport { ToastrService } from 'ngx-toastr';\nimport { catchError } from 'rxjs/operators';\nimport { throwError } from 'rxjs';\nimport { environment } from '../../../../../environments/environment';\n\n@Component({\n  selector: 'app-auth',\n  templateUrl: './login.component.html',\n})\nexport class LoginComponent implements OnInit {\n  error: any;\n  form: UntypedFormGroup = new UntypedFormGroup({\n    email: new UntypedFormControl('', [Validators.required, Validators.email]),\n    password: new UntypedFormControl('', Validators.required),\n  });\n  loading = true;\n\n  constructor(\n    private http: HttpClient,\n    private router: Router,\n    private toastr: ToastrService,\n    private translateService: TranslateService,\n  ) {}\n\n  ngOnInit(): void {\n    this.loading = false;\n  }\n\n  login(): void {\n    this.make(this.form.value);\n  }\n\n  make({ email, password }) {\n    return this.http\n      .post(environment.api.login, { observe: 'response', email, password })\n      .pipe(\n        catchError((err) => {\n          this.error = err.error;\n          return throwError(err);\n        }),\n      )\n      .subscribe(async (response) => {\n        if (response.hasOwnProperty('roles')) {\n          this.loading = true;\n          localStorage.setItem('currentUser', email);\n          localStorage.setItem('currentRole', JSON.parse(response['roles'].content)[0]);\n          this.toastr.info(this.translateService.instant('LOGGED_IN'));\n          await this.router.navigate(['/']);\n        }\n      });\n  }\n}\n","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\nimport { RegisterComponent } from './components/register/register.component';\nimport { LoginComponent } from './components/login/login.component';\n\nconst routes: Routes = [\n  { path: 'register', component: RegisterComponent },\n  { path: 'login', component: LoginComponent },\n  { path: '', component: LoginComponent },\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class AuthRoutingModule {}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\n\nimport { AuthRoutingModule } from './auth-routing.module';\nimport { LoginComponent } from './components/login/login.component';\nimport { RegisterComponent } from './components/register/register.component';\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\nimport { TranslateModule } from '@ngx-translate/core';\n\n@NgModule({\n  declarations: [LoginComponent, RegisterComponent],\n  imports: [CommonModule, AuthRoutingModule, FormsModule, ReactiveFormsModule, TranslateModule],\n})\nexport class AuthModule {}\n"],"x_google_ignoreList":[]}