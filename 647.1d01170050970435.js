"use strict";(self.webpackChunkAPP=self.webpackChunkAPP||[]).push([[647],{4647:(B,g,l)=>{l.r(g),l.d(g,{AuthModule:()=>y});var f=l(316),o=l(4456),m=l(1752),u=l(4949),I=l(9204),R=l(1318),E=l(7919),C=l(5312),r=l(8559),w=l(6443),b=l(4285);const d=e=>({"has-error":e}),F=()=>["/auth"];function Q(e,a){1&e&&(r.j41(0,"small",18),r.EFF(1),r.nI1(2,"translate"),r.k0s()),2&e&&(r.R7$(),r.JRh(r.bMT(2,1,"FIRST_NAME_REQUIRED")))}function D(e,a){1&e&&(r.j41(0,"small",18),r.EFF(1),r.nI1(2,"translate"),r.k0s()),2&e&&(r.R7$(),r.JRh(r.bMT(2,1,"LAST_NAME_REQUIRED")))}function k(e,a){1&e&&(r.j41(0,"small",18),r.EFF(1),r.nI1(2,"translate"),r.k0s()),2&e&&(r.R7$(),r.JRh(r.bMT(2,1,"EMAIL_REQUIRED")))}function N(e,a){1&e&&(r.j41(0,"small",18),r.EFF(1),r.nI1(2,"translate"),r.k0s()),2&e&&(r.R7$(),r.JRh(r.bMT(2,1,"PASSWORD_REQUIRED")))}function Y(e,a){1&e&&r.nrm(0,"img",19)}function T(e,a){1&e&&(r.j41(0,"div",20),r.EFF(1),r.nI1(2,"translate"),r.k0s()),2&e&&(r.R7$(),r.JRh(r.bMT(2,1,"EMAIL_EXISTS")))}let G=(()=>{class e{constructor(s,n,t,A){this.http=s,this.router=n,this.toastr=t,this.translateService=A,this.form=new o.J3({firstName:new o.hs("",o.k0.required),lastName:new o.hs("",o.k0.required),email:new o.hs("",[o.k0.email,o.k0.required]),password:new o.hs("",o.k0.required)}),this.loading=!0}ngOnInit(){this.loading=!1}register(){this.make(this.form.value)}make({firstName:s,lastName:n,email:t,password:A}){var i=this;return this.http.post(C.c.api.user,{observe:"response",firstName:s,lastName:n,email:t,plainPassword:A}).pipe((0,R.W)(p=>(this.error=p.error,(0,E.$)(p)))).subscribe(function(){var p=(0,I.A)(function*(h){h.hasOwnProperty("email")&&(i.loading=!0,i.toastr.info(i.translateService.instant("SIGNED_UP",{email:h.email})),yield i.router.navigate(["/auth"]))});return function(h){return p.apply(this,arguments)}}())}static#r=this.\u0275fac=function(n){return new(n||e)(r.rXU(w.Qq),r.rXU(u.Ix),r.rXU(b.tw),r.rXU(m.c$))};static#t=this.\u0275cmp=r.VBU({type:e,selectors:[["app-register"]],standalone:!0,features:[r.aNF],decls:38,vars:43,consts:[[1,"container"],[1,"text-center"],["name","form","role","form",3,"ngSubmit","formGroup"],[1,"form-group",3,"ngClass"],["for","firstName","role","button"],["class","form-text position-absolute text-danger",4,"ngIf"],["type","text","name","firstName","formControlName","firstName","id","firstName","required","",1,"form-control",3,"placeholder"],["for","lastName","role","button"],["type","text","name","lastName","formControlName","lastName","id","lastName","required","",1,"form-control",3,"placeholder"],["for","email","role","button"],["type","text","name","email","id","email","formControlName","email","required","",1,"form-control",3,"placeholder"],["for","password","role","button"],["type","password","name","password","id","password","formControlName","password","required","",1,"form-control",3,"placeholder"],[1,"form-actions","mt-4","text-center"],["type","submit",1,"btn","btn-outline-primary","me-3",3,"disabled"],["alt","loading","src","data:image/gif;base64,R0lGODlhEAAQAPIAAP///wAAAMLCwkJCQgAAAGJiYoKCgpKSkiH/C05FVFNDQVBFMi4wAwEAAAAh/hpDcmVhdGVkIHdpdGggYWpheGxvYWQuaW5mbwAh+QQJCgAAACwAAAAAEAAQAAADMwi63P4wyklrE2MIOggZnAdOmGYJRbExwroUmcG2LmDEwnHQLVsYOd2mBzkYDAdKa+dIAAAh+QQJCgAAACwAAAAAEAAQAAADNAi63P5OjCEgG4QMu7DmikRxQlFUYDEZIGBMRVsaqHwctXXf7WEYB4Ag1xjihkMZsiUkKhIAIfkECQoAAAAsAAAAABAAEAAAAzYIujIjK8pByJDMlFYvBoVjHA70GU7xSUJhmKtwHPAKzLO9HMaoKwJZ7Rf8AYPDDzKpZBqfvwQAIfkECQoAAAAsAAAAABAAEAAAAzMIumIlK8oyhpHsnFZfhYumCYUhDAQxRIdhHBGqRoKw0R8DYlJd8z0fMDgsGo/IpHI5TAAAIfkECQoAAAAsAAAAABAAEAAAAzIIunInK0rnZBTwGPNMgQwmdsNgXGJUlIWEuR5oWUIpz8pAEAMe6TwfwyYsGo/IpFKSAAAh+QQJCgAAACwAAAAAEAAQAAADMwi6IMKQORfjdOe82p4wGccc4CEuQradylesojEMBgsUc2G7sDX3lQGBMLAJibufbSlKAAAh+QQJCgAAACwAAAAAEAAQAAADMgi63P7wCRHZnFVdmgHu2nFwlWCI3WGc3TSWhUFGxTAUkGCbtgENBMJAEJsxgMLWzpEAACH5BAkKAAAALAAAAAAQABAAAAMyCLrc/jDKSatlQtScKdceCAjDII7HcQ4EMTCpyrCuUBjCYRgHVtqlAiB1YhiCnlsRkAAAOwAAAAAAAAAAAA==",4,"ngIf"],[1,"btn","btn-outline",3,"routerLink"],["class","alert alert-danger mb-0 mt-3 px-2 py-1","role","alert",4,"ngIf"],[1,"form-text","position-absolute","text-danger"],["alt","loading","src","data:image/gif;base64,R0lGODlhEAAQAPIAAP///wAAAMLCwkJCQgAAAGJiYoKCgpKSkiH/C05FVFNDQVBFMi4wAwEAAAAh/hpDcmVhdGVkIHdpdGggYWpheGxvYWQuaW5mbwAh+QQJCgAAACwAAAAAEAAQAAADMwi63P4wyklrE2MIOggZnAdOmGYJRbExwroUmcG2LmDEwnHQLVsYOd2mBzkYDAdKa+dIAAAh+QQJCgAAACwAAAAAEAAQAAADNAi63P5OjCEgG4QMu7DmikRxQlFUYDEZIGBMRVsaqHwctXXf7WEYB4Ag1xjihkMZsiUkKhIAIfkECQoAAAAsAAAAABAAEAAAAzYIujIjK8pByJDMlFYvBoVjHA70GU7xSUJhmKtwHPAKzLO9HMaoKwJZ7Rf8AYPDDzKpZBqfvwQAIfkECQoAAAAsAAAAABAAEAAAAzMIumIlK8oyhpHsnFZfhYumCYUhDAQxRIdhHBGqRoKw0R8DYlJd8z0fMDgsGo/IpHI5TAAAIfkECQoAAAAsAAAAABAAEAAAAzIIunInK0rnZBTwGPNMgQwmdsNgXGJUlIWEuR5oWUIpz8pAEAMe6TwfwyYsGo/IpFKSAAAh+QQJCgAAACwAAAAAEAAQAAADMwi6IMKQORfjdOe82p4wGccc4CEuQradylesojEMBgsUc2G7sDX3lQGBMLAJibufbSlKAAAh+QQJCgAAACwAAAAAEAAQAAADMgi63P7wCRHZnFVdmgHu2nFwlWCI3WGc3TSWhUFGxTAUkGCbtgENBMJAEJsxgMLWzpEAACH5BAkKAAAALAAAAAAQABAAAAMyCLrc/jDKSatlQtScKdceCAjDII7HcQ4EMTCpyrCuUBjCYRgHVtqlAiB1YhiCnlsRkAAAOwAAAAAAAAAAAA=="],["role","alert",1,"alert","alert-danger","mb-0","mt-3","px-2","py-1"]],template:function(n,t){1&n&&(r.j41(0,"div",0)(1,"h2",1),r.EFF(2),r.nI1(3,"translate"),r.k0s(),r.j41(4,"form",2),r.bIt("ngSubmit",function(){return t.register()}),r.j41(5,"div",3)(6,"label",4),r.EFF(7,"\xa0"),r.k0s(),r.DNE(8,Q,3,3,"small",5),r.nrm(9,"input",6),r.nI1(10,"translate"),r.k0s(),r.j41(11,"div",3)(12,"label",7),r.EFF(13,"\xa0"),r.k0s(),r.DNE(14,D,3,3,"small",5),r.nrm(15,"input",8),r.nI1(16,"translate"),r.k0s(),r.j41(17,"div",3)(18,"label",9),r.EFF(19,"\xa0"),r.k0s(),r.DNE(20,k,3,3,"small",5),r.nrm(21,"input",10),r.nI1(22,"translate"),r.k0s(),r.j41(23,"div",3)(24,"label",11),r.EFF(25,"\xa0"),r.k0s(),r.DNE(26,N,3,3,"small",5),r.nrm(27,"input",12),r.nI1(28,"translate"),r.k0s(),r.j41(29,"div",13)(30,"button",14),r.EFF(31),r.nI1(32,"translate"),r.k0s(),r.DNE(33,Y,1,0,"img",15),r.j41(34,"button",16),r.EFF(35),r.nI1(36,"translate"),r.k0s()(),r.DNE(37,T,3,3,"div",17),r.k0s()()),2&n&&(r.R7$(2),r.JRh(r.bMT(3,20,"REGISTER")),r.R7$(2),r.Y8G("formGroup",t.form),r.R7$(),r.Y8G("ngClass",r.eq3(34,d,t.form.controls.firstName.touched&&(null==t.form.controls.firstName.errors?null:t.form.controls.firstName.errors.required))),r.R7$(3),r.Y8G("ngIf",t.form.controls.firstName.touched&&(null==t.form.controls.firstName.errors?null:t.form.controls.firstName.errors.required)),r.R7$(),r.FS9("placeholder",r.bMT(10,22,"FIRST_NAME")),r.R7$(2),r.Y8G("ngClass",r.eq3(36,d,t.form.controls.lastName.touched&&(null==t.form.controls.lastName.errors?null:t.form.controls.lastName.errors.required))),r.R7$(3),r.Y8G("ngIf",t.form.controls.lastName.touched&&(null==t.form.controls.lastName.errors?null:t.form.controls.lastName.errors.required)),r.R7$(),r.FS9("placeholder",r.bMT(16,24,"LAST_NAME")),r.R7$(2),r.Y8G("ngClass",r.eq3(38,d,t.form.controls.email.touched&&(null==t.form.controls.email.errors?null:t.form.controls.email.errors.required))),r.R7$(3),r.Y8G("ngIf",t.form.controls.email.touched&&(null==t.form.controls.email.errors?null:t.form.controls.email.errors.required)),r.R7$(),r.FS9("placeholder",r.bMT(22,26,"EMAIL")),r.R7$(2),r.Y8G("ngClass",r.eq3(40,d,t.form.controls.password.touched&&(null==t.form.controls.password.errors?null:t.form.controls.password.errors.required))),r.R7$(3),r.Y8G("ngIf",t.form.controls.password.touched&&(null==t.form.controls.password.errors?null:t.form.controls.password.errors.required)),r.R7$(),r.FS9("placeholder",r.bMT(28,28,"PASSWORD")),r.R7$(3),r.Y8G("disabled",!t.form.valid&&!t.loading),r.R7$(),r.JRh(r.bMT(32,30,"REGISTER")),r.R7$(2),r.Y8G("ngIf",t.loading),r.R7$(),r.Y8G("routerLink",r.lJ4(42,F)),r.R7$(),r.JRh(r.bMT(36,32,"CANCEL")),r.R7$(2),r.Y8G("ngIf",t.error))},dependencies:[o.YN,o.qT,o.me,o.BC,o.cb,o.YS,o.X1,o.j4,o.JD,f.YU,f.bT,u.Wk,m.h,m.D9],encapsulation:2})}return e})();const M=e=>({"has-error":e}),S=()=>["/auth/register"];function v(e,a){1&e&&(r.j41(0,"small",13),r.EFF(1),r.nI1(2,"translate"),r.k0s()),2&e&&(r.R7$(),r.JRh(r.bMT(2,1,"EMAIL_REQUIRED")))}function J(e,a){1&e&&(r.j41(0,"small",13),r.EFF(1),r.nI1(2,"translate"),r.k0s()),2&e&&(r.R7$(),r.JRh(r.bMT(2,1,"PASSWORD_REQUIRED")))}function $(e,a){if(1&e&&(r.j41(0,"div",14),r.EFF(1),r.nI1(2,"translate"),r.k0s()),2&e){const s=r.XpG();r.R7$(),r.JRh(r.bMT(2,1,s.error.error))}}let c=(()=>{class e{constructor(s,n,t,A){this.http=s,this.router=n,this.toastr=t,this.translateService=A,this.form=new o.J3({email:new o.hs("",[o.k0.required,o.k0.email]),password:new o.hs("",o.k0.required)}),this.loading=!0}ngOnInit(){this.loading=!1}login(){this.make(this.form.value)}make({email:s,password:n}){var t=this;return this.http.post(C.c.api.login,{observe:"response",email:s,password:n}).pipe((0,R.W)(A=>(this.error=A.error,(0,E.$)(A)))).subscribe(function(){var A=(0,I.A)(function*(i){i.hasOwnProperty("roles")&&(t.loading=!0,localStorage.setItem("currentUser",s),localStorage.setItem("currentRole",JSON.parse(i.roles.content)[0]),t.toastr.info(t.translateService.instant("LOGGED_IN")),yield t.router.navigate(["/"]))});return function(i){return A.apply(this,arguments)}}())}static#r=this.\u0275fac=function(n){return new(n||e)(r.rXU(w.Qq),r.rXU(u.Ix),r.rXU(b.tw),r.rXU(m.c$))};static#t=this.\u0275cmp=r.VBU({type:e,selectors:[["app-auth"]],standalone:!0,features:[r.aNF],decls:25,vars:28,consts:[[1,"container"],[1,"text-center"],["name","form","role","form",3,"ngSubmit","formGroup"],[1,"form-group",3,"ngClass"],["for","email","role","button"],["class","form-text position-absolute text-danger",4,"ngIf"],["type","text","id","email","formControlName","email","required","",1,"form-control",3,"placeholder"],["for","password","role","button"],["type","password","id","password","formControlName","password","required","",1,"form-control",3,"placeholder"],["class","alert alert-danger mb-0 mt-3 px-2 py-1","role","alert",4,"ngIf"],[1,"form-actions","mt-4","text-center"],["type","submit","id","submit",1,"btn","btn-outline-primary","me-3",3,"disabled"],[1,"btn","btn-outline",3,"routerLink"],[1,"form-text","position-absolute","text-danger"],["role","alert",1,"alert","alert-danger","mb-0","mt-3","px-2","py-1"]],template:function(n,t){1&n&&(r.j41(0,"div",0)(1,"h2",1),r.EFF(2),r.nI1(3,"translate"),r.k0s(),r.j41(4,"form",2),r.bIt("ngSubmit",function(){return t.login()}),r.j41(5,"div",3)(6,"label",4),r.EFF(7,"\xa0"),r.k0s(),r.DNE(8,v,3,3,"small",5),r.nrm(9,"input",6),r.nI1(10,"translate"),r.k0s(),r.j41(11,"div",3)(12,"label",7),r.EFF(13,"\xa0"),r.k0s(),r.DNE(14,J,3,3,"small",5),r.nrm(15,"input",8),r.nI1(16,"translate"),r.k0s(),r.DNE(17,$,3,3,"div",9),r.j41(18,"div",10)(19,"button",11),r.EFF(20),r.nI1(21,"translate"),r.k0s(),r.j41(22,"button",12),r.EFF(23),r.nI1(24,"translate"),r.k0s()()()()),2&n&&(r.R7$(2),r.JRh(r.bMT(3,13,"LOGIN")),r.R7$(2),r.Y8G("formGroup",t.form),r.R7$(),r.Y8G("ngClass",r.eq3(23,M,t.form.controls.email.touched&&(null==t.form.controls.email.errors?null:t.form.controls.email.errors.required))),r.R7$(3),r.Y8G("ngIf",t.form.controls.email.touched&&(null==t.form.controls.email.errors?null:t.form.controls.email.errors.required)),r.R7$(),r.FS9("placeholder",r.bMT(10,15,"EMAIL")),r.R7$(2),r.Y8G("ngClass",r.eq3(25,M,t.form.controls.password.touched&&(null==t.form.controls.password.errors?null:t.form.controls.password.errors.required))),r.R7$(3),r.Y8G("ngIf",t.form.controls.password.touched&&(null==t.form.controls.password.errors?null:t.form.controls.password.errors.required)),r.R7$(),r.FS9("placeholder",r.bMT(16,17,"PASSWORD")),r.R7$(2),r.Y8G("ngIf",t.error),r.R7$(2),r.Y8G("disabled",!t.form.valid&&!t.loading),r.R7$(),r.SpI(" ",r.bMT(21,19,"LOGIN")," "),r.R7$(2),r.Y8G("routerLink",r.lJ4(27,S)),r.R7$(),r.JRh(r.bMT(24,21,"REGISTER")))},dependencies:[o.YN,o.qT,o.me,o.BC,o.cb,o.YS,o.X1,o.j4,o.JD,f.YU,f.bT,u.Wk,m.h,m.D9],encapsulation:2})}return e})();const j=[{path:"register",component:G},{path:"login",component:c},{path:"",component:c}];let U=(()=>{class e{static#r=this.\u0275fac=function(n){return new(n||e)};static#t=this.\u0275mod=r.$C({type:e});static#e=this.\u0275inj=r.G2t({imports:[u.iI.forChild(j),u.iI]})}return e})(),y=(()=>{class e{static#r=this.\u0275fac=function(n){return new(n||e)};static#t=this.\u0275mod=r.$C({type:e});static#e=this.\u0275inj=r.G2t({imports:[f.MD,U,o.YN,o.X1,m.h,c,G]})}return e})()}}]);
//# sourceMappingURL=647.1d01170050970435.js.map