"use strict";(self.webpackChunkAPP=self.webpackChunkAPP||[]).push([[585],{5585:(Wt,M,u)=>{u.r(M),u.d(M,{AdminModule:()=>$t});var l=u(6575),s=u(8849),m=u(2225),t=u(9039);const F=["input"],N=["window"];function J(o,c){if(1&o&&(t.TgZ(0,"label",8),t._uU(1),t.qZA()),2&o){const e=t.oxw(2);t.xp6(),t.Oqu(null==e.button?null:e.button.label)}}function B(o,c){if(1&o){const e=t.EpF();t.TgZ(0,"div",2,3),t.NdJ("keyup.escape",function(){t.CHM(e);const i=t.oxw();return t.KtG(i.closeInputWindow())}),t.YNc(2,J,2,1,"label",4),t.TgZ(3,"div")(4,"input",5,6),t.NdJ("ngModelChange",function(i){t.CHM(e);const r=t.oxw();return t.KtG(r.value=i)}),t.qZA(),t.TgZ(6,"button",7),t.NdJ("click",function(){t.CHM(e);const i=t.oxw();return t.KtG(i.onCommand())}),t._uU(7,"Confirm"),t.qZA()()()}if(2&o){const e=t.oxw();t.Udp("margin-left",e.margin,"px")("opacity",e.opacity),t.xp6(2),t.Q6J("ngIf",null==e.button?null:e.button.label),t.xp6(2),t.Q6J("title",null==e.button?null:e.button.label)("ngModel",e.value)}}function D(o,c){if(1&o&&(t.TgZ(0,"option",2),t._uU(1),t.qZA()),2&o){const e=c.$implicit;t.Q6J("value",e.value),t.xp6(),t.Oqu(e.label)}}const U=["select"];function P(o,c){if(1&o&&(t.TgZ(0,"option",4),t._uU(1),t.qZA()),2&o){const e=c.$implicit;t.Q6J("value",e.label),t.xp6(),t.Oqu(e.label)}}const L=["contentEditable"];function Q(o,c){1&o&&t._UZ(0,"st-separator")}function Y(o,c){if(1&o){const e=t.EpF();t.TgZ(0,"st-button",10),t.NdJ("command",function(i){t.CHM(e);const r=t.oxw(2);return t.KtG(r.execCommand(i))}),t.qZA()}if(2&o){const e=t.oxw().$implicit,n=t.oxw();t.Q6J("button",e)("state",n.queryCommandState[e.command])}}function q(o,c){if(1&o){const e=t.EpF();t.TgZ(0,"st-select",10),t.NdJ("command",function(i){t.CHM(e);const r=t.oxw(2);return t.KtG(r.execCommand(i.command,i.value))}),t.qZA()}if(2&o){const e=t.oxw().$implicit,n=t.oxw();t.Q6J("button",e)("state",n.queryCommandState[e.command])}}function j(o,c){if(1&o){const e=t.EpF();t.TgZ(0,"st-color-picker",10),t.NdJ("command",function(i){t.CHM(e);const r=t.oxw(2);return t.KtG(r.execCommand(i.command,i.value))}),t.qZA()}if(2&o){const e=t.oxw().$implicit,n=t.oxw();t.Q6J("button",e)("state",n.queryCommandState[e.command])}}function R(o,c){if(1&o){const e=t.EpF();t.TgZ(0,"st-input",11),t.NdJ("command",function(i){t.CHM(e);const r=t.oxw(2);return t.KtG(r.execCommand(i.command,i.value))}),t.qZA()}if(2&o){const e=t.oxw().$implicit;t.Q6J("button",e)}}function G(o,c){if(1&o){const e=t.EpF();t.TgZ(0,"st-dropdown",11),t.NdJ("command",function(i){t.CHM(e);const r=t.oxw(2);return t.KtG(r.execCommand(i.command,i.value))}),t.qZA()}if(2&o){const e=t.oxw().$implicit;t.Q6J("button",e)}}function H(o,c){if(1&o&&(t.ynx(0,5),t.YNc(1,Q,1,0,"st-separator",6)(2,Y,1,2,"st-button",7)(3,q,1,2,"st-select",8)(4,j,1,2,"st-color-picker",8)(5,R,1,1,"st-input",9)(6,G,1,1,"st-dropdown",9),t.BQk()),2&o){const e=c.$implicit,n=t.oxw();t.Q6J("ngSwitch",e.type),t.xp6(),t.Q6J("ngSwitchCase",n.toolbarItemType.Separator),t.xp6(),t.Q6J("ngIf",e.type===n.toolbarItemType.Button),t.xp6(),t.Q6J("ngSwitchCase",n.toolbarItemType.Select),t.xp6(),t.Q6J("ngSwitchCase",n.toolbarItemType.Color),t.xp6(),t.Q6J("ngSwitchCase",n.toolbarItemType.Input),t.xp6(),t.Q6J("ngSwitchCase",n.toolbarItemType.Dropdown)}}var a=function(o){return o[o.Separator=0]="Separator",o[o.Button=1]="Button",o[o.Select=2]="Select",o[o.Color=3]="Color",o[o.Input=4]="Input",o[o.Dropdown=5]="Dropdown",o}(a||{});const C={type:a.Button,command:"undo",icon:"fas fa-undo",title:"undo"},p={type:a.Separator},v={type:a.Button,command:"bold",icon:"fas fa-bold",title:"bold"},x={type:a.Button,command:"italic",icon:"fas fa-italic",title:"italic"},pt=[C,{type:a.Button,command:"redo",icon:"fas fa-redo",title:"redo"},{type:a.Button,command:"removeFormat",icon:"fas fa-remove-format",title:"remove format"},p,v,x,{type:a.Button,command:"underline",icon:"fas fa-underline",title:"underline"},{type:a.Button,command:"strikeThrough",icon:"fas fa-strikethrough",title:"strikethrough"},p,{type:a.Button,command:"justifyLeft",icon:"fas fa-align-left",title:"align left"},{type:a.Button,command:"justifyCenter",icon:"fas fa-align-center",title:"align center"},{type:a.Button,command:"justifyRight",icon:"fas fa-align-right",title:"align right"},{type:a.Button,command:"justifyFull",icon:"fas fa-align-justify",title:"align justify"},p,{type:a.Button,command:"insertOrderedList",icon:"fas fa-list-ol",title:"ordered list"},{type:a.Button,command:"insertUnorderedList",icon:"fas fa-list-ul",title:"unordered list"},p,{type:a.Button,command:"indent",icon:"fas fa-indent",title:"indent"},{type:a.Button,command:"outdent",icon:"fas fa-outdent",title:"outdent"},p,{type:a.Button,command:"subscript",icon:"fas fa-subscript",title:"subscript"},{type:a.Button,command:"superscript",icon:"fas fa-superscript",title:"superscript"},p,{type:a.Select,command:"fontSize",title:"font size",items:[{value:1,label:"1"},{value:2,label:"2"},{value:3,label:"3"},{value:4,label:"4"},{value:5,label:"5"},{value:6,label:"6"},{value:7,label:"7"}]},{type:a.Input,command:"createLink",icon:"fas fa-link",text:"Create link",title:"create link",label:"Create link"},{type:a.Button,command:"unlink",icon:"fas fa-unlink",title:"unlink"},p,{type:a.Input,command:"insertImage",icon:"fas fa-image",text:"Add image",title:"add image",label:"Create image from link"},{type:a.Color,command:"foreColor",icon:"fas fa-palette",title:"font color"}];let k=(()=>{class o{constructor(e){this.document=e}isCommandWithValue(e){return e.type===a.Select||e.type===a.Color}isCommandWithState(e){return e.type===a.Button}getQueryCommandState(e){return e.filter(n=>this.isCommandWithValue(n)||this.isCommandWithState(n)).reduce((n,i)=>({...n,[i.command]:this.isCommandWithValue(i)?this.document.queryCommandValue(String(i.command)):this.document.queryCommandState(String(i.command))}),{})}execCommand(e,n){this.document.execCommand(e,!1,n&&String(n))}static#t=this.\u0275fac=function(n){return new(n||o)(t.LFG(l.K0))};static#e=this.\u0275prov=t.Yz7({token:o,factory:o.\u0275fac})}return o})(),A=(()=>{class o{constructor(){this.command=new t.vpe}onCommand(e){this.command.emit(e)}static#t=this.\u0275fac=function(n){return new(n||o)};static#e=this.\u0275cmp=t.Xpm({type:o,selectors:[["st-button"]],inputs:{button:"button",state:"state"},outputs:{command:"command"},decls:2,vars:5,consts:[[1,"st-button","st-toolbar-item",3,"title","click"]],template:function(n,i){1&n&&(t.TgZ(0,"button",0),t.NdJ("click",function(){return i.onCommand(null==i.button?null:i.button.command)}),t._UZ(1,"i"),t.qZA()),2&n&&(t.ekj("active",i.state),t.Q6J("title",(null==i.button?null:i.button.title)||""),t.xp6(),t.Tol(null==i.button?null:i.button.icon))},styles:[".st-toolbar-item[_ngcontent-%COMP%]{border:0;padding:8px 14px;background-color:#fff;border-radius:5px;margin-right:1px;cursor:pointer}.st-toolbar-item[_ngcontent-%COMP%]:hover{background-color:#e0e0e0}.st-toolbar-item[_ngcontent-%COMP%]:focus{outline-color:#424242}.st-button[_ngcontent-%COMP%]:hover{background-color:#e0e0e0}.st-button[_ngcontent-%COMP%]:active{transform:scale(.98);box-shadow:1px 1px 7px 1px #e0e0e0}.st-button.active[_ngcontent-%COMP%]{background-color:#424242;color:#fff}"]})}return o})(),_t=(()=>{class o{constructor(){this.command=new t.vpe}onCommand(e,n){this.command.emit({command:e,value:n})}rgbStringToHex(e){const n=String(e).match(/rgba?\((\d{1,3}), ?(\d{1,3}), ?(\d{1,3})\)?(?:, ?(\d(?:\.\d?))\))?/);return n?"#"+[n[1],n[2],n[3]].map(i=>{const r=Number(i).toString(16);return 1===r.length?"0"+r:r}).join(""):"#000000"}static#t=this.\u0275fac=function(n){return new(n||o)};static#e=this.\u0275cmp=t.Xpm({type:o,selectors:[["st-color-picker"]],inputs:{button:"button",state:"state"},outputs:{command:"command"},decls:5,vars:7,consts:[[1,"st-button","st-toolbar-item",3,"title","click"],["type","color","tabindex","-1","onmousedown","return false;","onselectstart","return false;",1,"st-color-picker",3,"ngModel","change"],["colorPicker",""]],template:function(n,i){if(1&n){const r=t.EpF();t.TgZ(0,"button",0),t.NdJ("click",function(){t.CHM(r);const f=t.MAs(3);return t.KtG(f.click())}),t._uU(1),t.TgZ(2,"input",1,2),t.NdJ("change",function(f){return i.onCommand(null==i.button?null:i.button.command,f.target.value)}),t.qZA(),t._UZ(4,"i"),t.qZA()}2&n&&(t.Q6J("title",(null==i.button?null:i.button.title)||""),t.xp6(),t.hij(" ",i.rgbStringToHex(i.state)," "),t.xp6(),t.Q6J("ngModel",i.rgbStringToHex(i.state)),t.xp6(2),t.Tol(null==i.button?null:i.button.icon),t.Udp("color",i.state))},dependencies:[s.Fj,s.JJ,s.On],styles:[".st-toolbar-item[_ngcontent-%COMP%]{border:0;padding:8px 14px;background-color:#fff;border-radius:5px;margin-right:1px;cursor:pointer}.st-toolbar-item[_ngcontent-%COMP%]:hover{background-color:#e0e0e0}.st-toolbar-item[_ngcontent-%COMP%]:focus{outline-color:#424242}.st-button[_ngcontent-%COMP%]:hover{background-color:#e0e0e0}.st-button[_ngcontent-%COMP%]:active{transform:scale(.98);box-shadow:1px 1px 7px 1px #e0e0e0}.st-button.active[_ngcontent-%COMP%]{background-color:#424242;color:#fff}.st-color-picker[_ngcontent-%COMP%]{width:0;height:0;border:0;padding:0;margin:0;pointer-events:none}"]})}return o})(),bt=(()=>{class o{constructor(e,n){this.element=e,this.document=n,this.command=new t.vpe,this.showInputWindow=!1,this.value="",this.margin=0,this.opacity=0}onCommand(){this.value&&(this.selectionRange&&this.loadSelection(),this.closeInputWindow(),this.command.emit({command:this.button.command,value:this.button.transform?this.button.transform(this.value):this.value}),this.value="")}openInputWindow(){this.saveSelection(),this.showInputWindow=!0,setTimeout(()=>{this.margin=this.windowElement.nativeElement.getBoundingClientRect().width<278?-150:0,this.opacity=1,this.inputElement.nativeElement.focus()})}closeInputWindow(){this.showInputWindow=!1,this.margin=0,this.opacity=0}outsideClick(e){!this.element.nativeElement.contains(e.target)&&this.showInputWindow&&this.closeInputWindow()}loadSelection(){const e=this.document.defaultView.getSelection();e.removeAllRanges(),e.addRange(this.selectionRange),this.selectionRange=null}saveSelection(){const e=this.document.defaultView.getSelection();this.selectionRange=0===e.rangeCount?null:e.getRangeAt(0)}static#t=this.\u0275fac=function(n){return new(n||o)(t.Y36(t.SBq),t.Y36(l.K0))};static#e=this.\u0275cmp=t.Xpm({type:o,selectors:[["st-input"]],viewQuery:function(n,i){if(1&n&&(t.Gf(F,5),t.Gf(N,5)),2&n){let r;t.iGM(r=t.CRH())&&(i.inputElement=r.first),t.iGM(r=t.CRH())&&(i.windowElement=r.first)}},hostBindings:function(n,i){1&n&&t.NdJ("click",function(d){return i.outsideClick(d)},!1,t.evT)},inputs:{button:"button",state:"state"},outputs:{command:"command"},decls:2,vars:3,consts:[[3,"button","state","command"],["class","st-input-window",3,"margin-left","opacity","keyup.escape",4,"ngIf"],[1,"st-input-window",3,"keyup.escape"],["window",""],["class","st-input-label",4,"ngIf"],["type","text",1,"st-input-input",3,"title","ngModel","ngModelChange"],["input",""],[1,"st-input-button",3,"click"],[1,"st-input-label"]],template:function(n,i){1&n&&(t.TgZ(0,"st-button",0),t.NdJ("command",function(){return i.openInputWindow()}),t.qZA(),t.YNc(1,B,8,7,"div",1)),2&n&&(t.Q6J("button",i.button)("state",i.state),t.xp6(),t.Q6J("ngIf",i.showInputWindow))},dependencies:[l.O5,s.Fj,s.JJ,s.On,A],styles:[".st-toolbar-item[_ngcontent-%COMP%], .st-input-button[_ngcontent-%COMP%]{border:0;padding:8px 14px;background-color:#fff;border-radius:5px;margin-right:1px;cursor:pointer}.st-toolbar-item[_ngcontent-%COMP%]:hover, .st-input-button[_ngcontent-%COMP%]:hover{background-color:#e0e0e0}.st-toolbar-item[_ngcontent-%COMP%]:focus, .st-input-button[_ngcontent-%COMP%]:focus{outline-color:#424242}.st-input-window[_ngcontent-%COMP%]{display:flex;flex-direction:column;background-color:#fff;position:absolute;padding:10px;top:5px;border:1px solid #bdbdbd;border-radius:5px;box-shadow:0 3px 7px #bdbdbd}.st-input-input[_ngcontent-%COMP%]{padding:8px 14px;background-color:#fff;margin-right:-1px;border:1px solid #bdbdbd;border-bottom-left-radius:5px;border-top-left-radius:5px}.st-input-button[_ngcontent-%COMP%]{margin-right:0;border-bottom-left-radius:0;border-top-left-radius:0;border:1px solid #bdbdbd}.st-input-label[_ngcontent-%COMP%]{font-size:14px;font-weight:700}"]})}return o})(),Ct=(()=>{class o{constructor(){this.command=new t.vpe}ngOnInit(){!this.state&&this.button.items.length&&(this.state=this.button.items[0].value)}onCommand(e,n){this.command.emit({command:e,value:n})}static#t=this.\u0275fac=function(n){return new(n||o)};static#e=this.\u0275cmp=t.Xpm({type:o,selectors:[["st-select"]],inputs:{button:"button",state:"state"},outputs:{command:"command"},decls:2,vars:3,consts:[[1,"st-select","st-toolbar-item",3,"ngModel","title","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],[3,"value"]],template:function(n,i){1&n&&(t.TgZ(0,"select",0),t.NdJ("ngModelChange",function(d){return i.onCommand(null==i.button?null:i.button.command,d)}),t.YNc(1,D,2,2,"option",1),t.qZA()),2&n&&(t.Q6J("ngModel",i.state)("title",(null==i.button?null:i.button.title)||""),t.xp6(),t.Q6J("ngForOf",null==i.button?null:i.button.items))},dependencies:[l.sg,s.YN,s.Kr,s.EJ,s.JJ,s.On],styles:[".st-toolbar-item[_ngcontent-%COMP%]{border:0;padding:8px 14px;background-color:#fff;border-radius:5px;margin-right:1px;cursor:pointer}.st-toolbar-item[_ngcontent-%COMP%]:hover{background-color:#e0e0e0}.st-toolbar-item[_ngcontent-%COMP%]:focus{outline-color:#424242}option[_ngcontent-%COMP%]:checked{background-color:#424242;color:#fff}"]})}return o})(),vt=(()=>{class o{static#t=this.\u0275fac=function(n){return new(n||o)};static#e=this.\u0275cmp=t.Xpm({type:o,selectors:[["st-separator"]],decls:2,vars:0,consts:[[1,"st-divider"]],template:function(n,i){1&n&&(t.TgZ(0,"div",0),t._uU(1,"\xa0"),t.qZA())},styles:[".st-toolbar-item[_ngcontent-%COMP%]{border:0;padding:8px 14px;background-color:#fff;border-radius:5px;margin-right:1px;cursor:pointer}.st-toolbar-item[_ngcontent-%COMP%]:hover{background-color:#e0e0e0}.st-toolbar-item[_ngcontent-%COMP%]:focus{outline-color:#424242}.st-divider[_ngcontent-%COMP%]{border-right:1px solid #bdbdbd;margin:0 5px 0 0;height:25px}"]})}return o})();const xt={attributes:!0,childList:!0,subtree:!0,characterData:!0};let Tt=(()=>{class o{constructor(e){this.element=e,this.domModify=new t.vpe}ngOnInit(){this.observer=new MutationObserver(()=>{this.domModify.emit()}),this.observer.observe(this.element.nativeElement,xt)}ngOnDestroy(){this.observer.disconnect()}static#t=this.\u0275fac=function(n){return new(n||o)(t.Y36(t.SBq))};static#e=this.\u0275dir=t.lG2({type:o,selectors:[["","stDomModify",""]],outputs:{domModify:"stDomModify"}})}return o})(),yt=(()=>{class o{constructor(e,n){this.document=e,this.element=n,this.selectionChange=new t.vpe}selectionchange(){this.document.activeElement===this.element.nativeElement&&this.selectionChange.emit()}static#t=this.\u0275fac=function(n){return new(n||o)(t.Y36(l.K0),t.Y36(t.SBq))};static#e=this.\u0275dir=t.lG2({type:o,selectors:[["","stSelectionChange",""]],hostBindings:function(n,i){1&n&&t.NdJ("selectionchange",function(){return i.selectionchange()},!1,t.evT)},outputs:{selectionChange:"stSelectionChange"}})}return o})(),wt=(()=>{class o{constructor(){this.label="",this.command=new t.vpe}set button(e){this.label=e.label,this.width?this._button=e:this._tempButton=e}get button(){return this._button}ngAfterViewInit(){setTimeout(()=>{this.width=this.selectElement.nativeElement.getBoundingClientRect().width,this._button=this._tempButton})}onCommand({value:e}){const{command:n,value:i}=this.button.items.find(r=>r.label===e);this.command.emit({command:n,value:i})}static#t=this.\u0275fac=function(n){return new(n||o)};static#e=this.\u0275cmp=t.Xpm({type:o,selectors:[["st-dropdown"]],viewQuery:function(n,i){if(1&n&&t.Gf(U,5),2&n){let r;t.iGM(r=t.CRH())&&(i.selectElement=r.first)}},inputs:{button:"button"},outputs:{command:"command"},decls:5,vars:5,consts:[[1,"st-select","st-toolbar-item",3,"title","change"],["select",""],["value","","disabled","","selected","","hidden",""],[3,"value",4,"ngFor","ngForOf"],[3,"value"]],template:function(n,i){if(1&n){const r=t.EpF();t.TgZ(0,"select",0,1),t.NdJ("change",function(f){t.CHM(r);const h=t.MAs(1);return i.onCommand(f.target),t.KtG(h.value="")}),t.TgZ(2,"option",2),t._uU(3),t.qZA(),t.YNc(4,P,2,2,"option",3),t.qZA()}2&n&&(t.Udp("width",i.width,"px"),t.Q6J("title",(null==i.button?null:i.button.title)||""),t.xp6(3),t.Oqu(i.label),t.xp6(),t.Q6J("ngForOf",null==i.button?null:i.button.items))},dependencies:[l.sg,s.YN,s.Kr],styles:[".st-toolbar-item[_ngcontent-%COMP%]{border:0;padding:8px 14px;background-color:#fff;border-radius:5px;margin-right:1px;cursor:pointer}.st-toolbar-item[_ngcontent-%COMP%]:hover{background-color:#e0e0e0}.st-toolbar-item[_ngcontent-%COMP%]:focus{outline-color:#424242}"]})}return o})();const Z={placeholder:"",buttons:pt};let I=(()=>{class o{set config(e){this._config={...Z,...e}}get config(){return this._config}constructor(e,n){this.document=e,this.commandService=n,this._config=Z,this.content="",this.toolbarItemType=a,this.isDisabled=!1,this.queryCommandState={}}ngAfterViewInit(){this.updateContentEditable()}writeValue(e){this.content=e,this.updateContentEditable()}registerOnChange(e){this.onChangeFn=e}registerOnTouched(e){this.onTouchedFn=e}setDisabledState(e){this.isDisabled=e}domModify(){this.contentEditable&&this.onChangeFn(this.contentEditable.nativeElement.innerHTML)}execCommand(e,n){this.contentEditable.nativeElement.focus(),this.commandService.execCommand(e,n),this.fetchQueryCommandState()}fetchQueryCommandState(){this.queryCommandState=this.commandService.getQueryCommandState(this.config.buttons)}trackBy(e,n){return n.name}updateContentEditable(){this.contentEditable&&(this.contentEditable.nativeElement.innerHTML=this.content)}static#t=this.\u0275fac=function(n){return new(n||o)(t.Y36(l.K0),t.Y36(k))};static#e=this.\u0275cmp=t.Xpm({type:o,selectors:[["st-editor"]],viewQuery:function(n,i){if(1&n&&t.Gf(L,5),2&n){let r;t.iGM(r=t.CRH())&&(i.contentEditable=r.first)}},inputs:{config:"config"},features:[t._Bn([{provide:s.JU,useExisting:o,multi:!0},k])],decls:5,vars:6,consts:[[1,"st-editor-container"],["tabIndex","0",1,"st-toolbar"],[3,"ngSwitch",4,"ngFor","ngForOf","ngForTrackBy"],[1,"st-area",3,"stDomModify","stSelectionChange","blur"],["contentEditable",""],[3,"ngSwitch"],[4,"ngSwitchCase"],[3,"button","state","command",4,"ngIf"],[3,"button","state","command",4,"ngSwitchCase"],[3,"button","command",4,"ngSwitchCase"],[3,"button","state","command"],[3,"button","command"]],template:function(n,i){1&n&&(t.TgZ(0,"div",0)(1,"div",1),t.YNc(2,H,7,7,"ng-container",2),t.qZA(),t.TgZ(3,"div",3,4),t.NdJ("stDomModify",function(){return i.domModify()})("stSelectionChange",function(){return i.fetchQueryCommandState()})("blur",function(){return i.onTouchedFn()}),t.qZA()()),2&n&&(t.ekj("disabled",i.isDisabled),t.xp6(2),t.Q6J("ngForOf",i.config.buttons)("ngForTrackBy",i.trackBy),t.xp6(),t.uIk("data-placeholder",i.config.placeholder)("contenteditable",!i.isDisabled))},dependencies:[l.sg,l.O5,l.RF,l.n9,A,_t,bt,Ct,vt,Tt,yt,wt],styles:[".st-toolbar-item[_ngcontent-%COMP%]{border:0;padding:8px 14px;background-color:#fff;border-radius:5px;margin-right:1px;cursor:pointer}.st-toolbar-item[_ngcontent-%COMP%]:hover{background-color:#e0e0e0}.st-toolbar-item[_ngcontent-%COMP%]:focus{outline-color:#424242}.st-editor-container[_ngcontent-%COMP%]{position:relative}.st-editor-container.disabled[_ngcontent-%COMP%]{pointer-events:none;opacity:.5}.st-area[_ngcontent-%COMP%]{resize:vertical;overflow:auto;border:1px solid #bdbdbd;border-top:0;border-bottom-left-radius:5px;border-bottom-right-radius:5px;min-height:200px;padding:5px;background-color:#fff}.st-area[_ngcontent-%COMP%]:focus{outline-color:#424242}.st-area[_ngcontent-%COMP%]:empty:not(:focus):before{content:attr(data-placeholder);color:#bdbdbd;pointer-events:none}.st-toolbar[_ngcontent-%COMP%]{border-top-right-radius:5px;border-top-left-radius:5px;display:flex;flex-wrap:wrap;align-items:center;border:1px solid #bdbdbd;padding:5px;background-color:#fff}.st-toolbar[_ngcontent-%COMP%]:focus{outline-color:#424242}"]})}return o})(),Ot=(()=>{class o{static#t=this.\u0275fac=function(n){return new(n||o)};static#e=this.\u0275mod=t.oAB({type:o});static#n=this.\u0275inj=t.cJS({imports:[l.ez,s.u5,s.UX]})}return o})();var _=u(7096),T=u(729),y=u(6834),w=u(4308),St=u(553),O=u(2389),S=u(3252),Et=u(4860),g=u(7548);function Mt(o,c){if(1&o&&(t.TgZ(0,"th",4),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&o){const e=c.$implicit;t.xp6(),t.hij(" ",t.lcZ(2,1,e)," ")}}function kt(o,c){if(1&o&&(t.TgZ(0,"td",8),t._uU(1),t.qZA()),2&o){const e=c.$implicit;t.xp6(),t.hij(" ",e," ")}}const At=(o,c)=>["/admin/edit/",o,c];function Zt(o,c){if(1&o){const e=t.EpF();t.TgZ(0,"tr",6),t.YNc(1,kt,2,1,"td",7),t.TgZ(2,"td",8)(3,"button",9),t._UZ(4,"img",10),t.ALo(5,"translate"),t.ALo(6,"translate"),t.qZA(),t.TgZ(7,"button",11),t.NdJ("click",function(){const r=t.CHM(e).$implicit,d=t.oxw(2);return t.KtG(d.deleteByID(r.id))}),t._UZ(8,"img",12),t.ALo(9,"translate"),t.ALo(10,"translate"),t.qZA()()()}if(2&o){const e=c.$implicit,n=t.oxw(2);t.xp6(),t.Q6J("ngForOf",n.getArrayDataFromJSON(e)),t.xp6(2),t.Q6J("routerLink",t.WLB(14,At,n.currentType,e.id)),t.xp6(),t.s9C("alt",t.lcZ(5,6,"EDIT")),t.s9C("title",t.lcZ(6,8,"EDIT")),t.xp6(4),t.s9C("alt",t.lcZ(9,10,"DELETE")),t.s9C("title",t.lcZ(10,12,"DELETE"))}}function It(o,c){if(1&o&&(t.TgZ(0,"div")(1,"table",1)(2,"thead")(3,"tr",2),t.YNc(4,Mt,3,3,"th",3),t.TgZ(5,"th",4),t._uU(6),t.ALo(7,"translate"),t.qZA()()(),t.TgZ(8,"tbody"),t.YNc(9,Zt,11,17,"tr",5),t.qZA()(),t.TgZ(10,"p"),t._uU(11),t.ALo(12,"translate"),t.qZA()()),2&o){const e=t.oxw();t.xp6(4),t.Q6J("ngForOf",e.getArrayFieldsFromJSON(e.data["hydra:member"][0])),t.xp6(2),t.Oqu(t.lcZ(7,5,"ACTIONS")),t.xp6(3),t.Q6J("ngForOf",e.data["hydra:member"]),t.xp6(2),t.AsE("",t.lcZ(12,7,"TOTAL_ITEMS"),": ",e.data["hydra:totalItems"],"")}}let Ft=(()=>{class o{constructor(e,n,i){this.http=e,this.toaster=n,this.translateService=i}getArrayDataFromJSON(e){let n=[];for(let i of this.fields)n.push(e[i]);return n}getArrayFieldsFromJSON(e=[]){return this.fields=this.internalFieldsFilter(Object.keys(e)),this.fields}internalFieldsFilter(e){const n=["@id","@type"];return e.filter(i=>n.indexOf(i)<0)}deleteByID(e){return this.http.delete(St.N.apiUrl+"/"+this.currentType+"/"+e,{observe:"response"}).pipe((0,O.K)(n=>(this.toaster.error(n.error.error),(0,S._)(n)))).subscribe(()=>{this.toaster.success(this.translateService.instant("DELETED"));const n=this.data["hydra:member"].find(i=>i.id===e);this.data["hydra:member"].splice(this.data["hydra:member"].indexOf(n),1),this.data["hydra:totalItems"]-=1})}static#t=this.\u0275fac=function(n){return new(n||o)(t.Y36(Et.eN),t.Y36(g._W),t.Y36(m.sK))};static#e=this.\u0275cmp=t.Xpm({type:o,selectors:[["app-table"]],inputs:{data:"data",currentType:"currentType"},decls:1,vars:1,consts:[[4,"ngIf"],["role","table",1,"table","table-bordered"],["role","rowgroup",1,"table-row","text-center"],["role","columnheader","scope","col",4,"ngFor","ngForOf"],["role","columnheader","scope","col"],["class","table-body table-row text-center","role","rowgroup",4,"ngFor","ngForOf"],["role","rowgroup",1,"table-body","table-row","text-center"],["role","cell",4,"ngFor","ngForOf"],["role","cell"],[1,"btn","p-0",3,"routerLink"],["src","https://material-icons.github.io/material-icons/svg/edit/baseline.svg",1,"d-inline-block","align-top",3,"alt","title"],[1,"btn","ms-2","p-0",3,"click"],["src","https://material-icons.github.io/material-icons/svg/delete/baseline.svg",1,"d-inline-block","align-top",3,"alt","title"]],template:function(n,i){1&n&&t.YNc(0,It,13,9,"div",0),2&n&&t.Q6J("ngIf",i.data&&i.data["hydra:member"]&&i.data["hydra:totalItems"]>0)},dependencies:[l.sg,l.O5,_.rH,m.X$],styles:["td[_ngcontent-%COMP%], th[_ngcontent-%COMP%]{max-width:20rem;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}@media (max-width: 992px){td[_ngcontent-%COMP%], th[_ngcontent-%COMP%]{max-width:15rem}}@media (max-width: 768px){td[_ngcontent-%COMP%], th[_ngcontent-%COMP%]{max-width:10rem}}@media (max-width: 576px){.table-body[_ngcontent-%COMP%]{border-top:unset}.table-row[_ngcontent-%COMP%]{display:flex;flex-direction:column;flex-wrap:wrap}td[_ngcontent-%COMP%], th[_ngcontent-%COMP%]{max-width:20rem}}"]})}return o})();const Nt=o=>["/admin/new/",o];let Jt=(()=>{class o{constructor(e,n,i){this.subjectService=e,this.unitService=n,this.exerciseService=i}ngOnInit(){this.subjects$=this.subjectService.get(),this.units$=this.unitService.get(),this.exercises$=this.exerciseService.get(),this.currentTab="subjects",this.currentService=this.subjectService}setCurrentNav(e){this.currentTab=e.target.id}setCurrentData(){switch(this.currentTab){case"subjects":this.currentService=this.subjectService,this.subjects$=this.subjectService.get();break;case"units":this.currentService=this.unitService,this.units$=this.unitService.get();break;case"exercises":this.currentService=this.exerciseService,this.exercises$=this.exerciseService.get()}}static#t=this.\u0275fac=function(n){return new(n||o)(t.Y36(T._),t.Y36(y._),t.Y36(w.z))};static#e=this.\u0275cmp=t.Xpm({type:o,selectors:[["app-admin"]],decls:28,vars:30,consts:[["role","tablist",1,"nav","nav-tabs"],["role","presentation",1,"nav-item"],["id","subjects","data-bs-toggle","tab","data-bs-target","#nav-subjects","type","button","role","tab","aria-controls","nav-subjects","aria-selected","true",1,"nav-link","active",3,"click"],["id","units","data-bs-toggle","tab","data-bs-target","#nav-units","type","button","role","tab","aria-controls","nav-units","aria-selected","false",1,"nav-link",3,"click"],["id","exercises","data-bs-toggle","tab","data-bs-target","#nav-exercises","type","button","role","tab","aria-controls","nav-exercises","aria-selected","false",1,"nav-link",3,"click"],["type","button","role","button","aria-selected","false",1,"nav-link",3,"routerLink"],["src","https://material-icons.github.io/material-icons/svg/add/baseline.svg",1,"d-inline-block","align-top",3,"alt","title"],[1,"tab-content"],["id","nav-subjects","role","tabpanel","aria-labelledby","subjects",1,"tab-pane","fade","show","active"],[3,"currentType","data"],["id","nav-units","role","tabpanel","aria-labelledby","units",1,"tab-pane","fade"],["id","nav-exercises","role","tabpanel","aria-labelledby","exercises",1,"tab-pane","fade"]],template:function(n,i){1&n&&(t.TgZ(0,"ul",0)(1,"li",1)(2,"button",2),t.NdJ("click",function(d){return i.setCurrentNav(d)}),t._uU(3),t.ALo(4,"translate"),t.qZA()(),t.TgZ(5,"li",1)(6,"button",3),t.NdJ("click",function(d){return i.setCurrentNav(d)}),t._uU(7),t.ALo(8,"translate"),t.qZA()(),t.TgZ(9,"li",1)(10,"button",4),t.NdJ("click",function(d){return i.setCurrentNav(d)}),t._uU(11),t.ALo(12,"translate"),t.qZA()(),t.TgZ(13,"li",1)(14,"button",5),t._UZ(15,"img",6),t.ALo(16,"translate"),t.ALo(17,"translate"),t.qZA()()(),t.TgZ(18,"div",7)(19,"div",8),t._UZ(20,"app-table",9),t.ALo(21,"async"),t.qZA(),t.TgZ(22,"div",10),t._UZ(23,"app-table",9),t.ALo(24,"async"),t.qZA(),t.TgZ(25,"div",11),t._UZ(26,"app-table",9),t.ALo(27,"async"),t.qZA()()),2&n&&(t.xp6(3),t.hij(" ",t.lcZ(4,12,"SUBJECTS")," "),t.xp6(4),t.hij(" ",t.lcZ(8,14,"UNITS")," "),t.xp6(4),t.hij(" ",t.lcZ(12,16,"EXERCISES")," "),t.xp6(3),t.Q6J("routerLink",t.VKq(28,Nt,i.currentTab)),t.xp6(),t.s9C("alt",t.lcZ(16,18,"ADD")),t.s9C("title",t.lcZ(17,20,"ADD")),t.xp6(5),t.Q6J("currentType",i.currentTab)("data",t.lcZ(21,22,i.subjects$)),t.xp6(3),t.Q6J("currentType",i.currentTab)("data",t.lcZ(24,24,i.units$)),t.xp6(3),t.Q6J("currentType",i.currentTab)("data",t.lcZ(27,26,i.exercises$)))},dependencies:[_.rH,Ft,l.Ov,m.X$],encapsulation:2})}return o})();class Bt{static internalFieldsFilter(c){const e=["@id","@type","@context"];return c.filter(n=>e.indexOf(n)<0)}}function Dt(o,c){if(1&o&&t._UZ(0,"input",9),2&o){const e=t.oxw(),n=e.$implicit,i=e.index,r=t.oxw();t.Q6J("id",n)("formControl",r.formControlsArray[i])}}function Ut(o,c){if(1&o&&t._UZ(0,"st-editor",10),2&o){const e=t.oxw().index,n=t.oxw();t.Q6J("formControl",n.formControlsArray[e])("config",n.config)}}function Pt(o,c){if(1&o&&(t.TgZ(0,"div",5)(1,"label",6),t._uU(2),t.ALo(3,"translate"),t.qZA(),t.YNc(4,Dt,1,2,"input",7)(5,Ut,1,2,"st-editor",8),t.qZA()),2&o){const e=c.$implicit,n=t.oxw();t.xp6(),t.Q6J("for",e),t.xp6(),t.Oqu(t.lcZ(3,4,e)),t.xp6(2),t.Q6J("ngIf","text"!==e),t.xp6(),t.Q6J("ngIf","units"===n.item&&"text"===e)}}let Lt=(()=>{class o{constructor(e,n,i,r,d,f,h,E){this.route=e,this.subjectService=n,this.unitService=i,this.exerciseService=r,this._formBuilder=d,this.toaster=f,this.translateService=h,this._location=E,this.htmlContent="",this.config={buttons:[C,p,v,x]},this.formControlsArray=[],this.form=this._formBuilder.group({formControlsArray:this._formBuilder.array([])})}ngOnInit(){this.route.paramMap.subscribe(e=>{switch(this.item=e.get("item"),this.item){case"subjects":this.currentService=this.subjectService;break;case"units":this.currentService=this.unitService;break;case"exercises":this.currentService=this.exerciseService}e.get("id")&&(this.id=parseInt(e.get("id"))),this.currentService.getOne(this.id).subscribe(n=>{this.data=n,this.fields=Bt.internalFieldsFilter(Object.keys(n));for(let i of this.fields){let r=this._formBuilder.control({value:this.data[i],disabled:"id"===i},s.kI.required);this.formControlsArray.push(r),this.form.addControl(i,r)}})})}backClicked(){this._location.back()}submit(){this.currentService.edit(this.id,this.form.value).pipe((0,O.K)(e=>(this.toaster.error(e.error["hydra:description"]),(0,S._)(e)))).subscribe(()=>{this.toaster.success(this.translateService.instant("EDITED"))})}static#t=this.\u0275fac=function(n){return new(n||o)(t.Y36(_.gz),t.Y36(T._),t.Y36(y._),t.Y36(w.z),t.Y36(s.QS),t.Y36(g._W),t.Y36(m.sK),t.Y36(l.Ye))};static#e=this.\u0275cmp=t.Xpm({type:o,selectors:[["app-new-item"]],decls:9,vars:8,consts:[[1,"mb-3",3,"formGroup"],["class","mt-2",4,"ngFor","ngForOf"],[1,"form-actions","mt-3","text-center"],["type","submit",1,"btn","btn-outline-primary","me-3",3,"click"],[1,"btn","btn-outline",3,"click"],[1,"mt-2"],["role","button",1,"form-label",3,"for"],["type","text","class","form-control",3,"id","formControl",4,"ngIf"],[3,"formControl","config",4,"ngIf"],["type","text",1,"form-control",3,"id","formControl"],[3,"formControl","config"]],template:function(n,i){1&n&&(t.TgZ(0,"form",0),t.YNc(1,Pt,6,6,"div",1),t.TgZ(2,"div",2)(3,"button",3),t.NdJ("click",function(){return i.submit()}),t._uU(4),t.ALo(5,"translate"),t.qZA(),t.TgZ(6,"button",4),t.NdJ("click",function(){return i.backClicked()}),t._uU(7),t.ALo(8,"translate"),t.qZA()()()),2&n&&(t.Q6J("formGroup",i.form),t.xp6(),t.Q6J("ngForOf",i.fields),t.xp6(3),t.Oqu(t.lcZ(5,4,"SAVE")),t.xp6(3),t.Oqu(t.lcZ(8,6,"GO_BACK")))},dependencies:[l.sg,l.O5,s._Y,s.Fj,s.JJ,s.JL,s.oH,s.sg,I,m.X$],encapsulation:2})}return o})();function Qt(o,c){if(1&o&&t._UZ(0,"input",9),2&o){const e=t.oxw(),n=e.$implicit,i=e.index,r=t.oxw();t.Q6J("id",n)("formControl",r.formControlsArray[i])}}function Yt(o,c){if(1&o&&t._UZ(0,"st-editor",10),2&o){const e=t.oxw().index,n=t.oxw();t.Q6J("formControl",n.formControlsArray[e])("config",n.config)}}function qt(o,c){if(1&o&&(t.TgZ(0,"div",5)(1,"label",6),t._uU(2),t.ALo(3,"translate"),t.qZA(),t.YNc(4,Qt,1,2,"input",7)(5,Yt,1,2,"st-editor",8),t.qZA()),2&o){const e=c.$implicit,n=t.oxw();t.xp6(),t.Q6J("for",e),t.xp6(),t.Oqu(t.lcZ(3,4,e)),t.xp6(2),t.Q6J("ngIf","text"!==e),t.xp6(),t.Q6J("ngIf","units"===n.item&&"text"===e)}}let jt=(()=>{class o{constructor(e,n,i,r,d,f,h,E){this.route=e,this.subjectService=n,this.unitService=i,this.exerciseService=r,this._formBuilder=d,this.toaster=f,this.translateService=h,this._location=E,this.formControlsArray=[],this.config={buttons:[C,p,v,x]},this.form=this._formBuilder.group({formControlsArray:this._formBuilder.array([])})}ngOnInit(){this.route.paramMap.subscribe(e=>{switch(this.item=e.get("item"),this.item){case"subjects":this.currentService=this.subjectService,this.fields=["name","course"];break;case"units":this.currentService=this.unitService,this.fields=["title","text","subject"];break;case"exercises":this.currentService=this.exerciseService,this.fields=["title","question","answer","unit"]}for(let n of this.fields){let i=this._formBuilder.control("",s.kI.required);this.formControlsArray.push(i),this.form.addControl(n,i)}})}backClicked(){this._location.back()}submit(){this.currentService.add(this.form.value).pipe((0,O.K)(e=>(this.toaster.error(e.error["hydra:description"]),(0,S._)(e)))).subscribe(()=>{this.toaster.success(this.translateService.instant("ADDED"))})}static#t=this.\u0275fac=function(n){return new(n||o)(t.Y36(_.gz),t.Y36(T._),t.Y36(y._),t.Y36(w.z),t.Y36(s.QS),t.Y36(g._W),t.Y36(m.sK),t.Y36(l.Ye))};static#e=this.\u0275cmp=t.Xpm({type:o,selectors:[["app-new-item"]],decls:9,vars:8,consts:[[1,"mb-3",3,"formGroup"],["class","mt-2",4,"ngFor","ngForOf"],[1,"form-actions","mt-3","text-center"],["type","submit",1,"btn","btn-outline-primary","me-3",3,"click"],[1,"btn","btn-outline",3,"click"],[1,"mt-2"],["role","button",1,"form-label",3,"for"],["type","text","class","form-control",3,"id","formControl",4,"ngIf"],[3,"formControl","config",4,"ngIf"],["type","text",1,"form-control",3,"id","formControl"],[3,"formControl","config"]],template:function(n,i){1&n&&(t.TgZ(0,"form",0),t.YNc(1,qt,6,6,"div",1),t.TgZ(2,"div",2)(3,"button",3),t.NdJ("click",function(){return i.submit()}),t._uU(4),t.ALo(5,"translate"),t.qZA(),t.TgZ(6,"button",4),t.NdJ("click",function(){return i.backClicked()}),t._uU(7),t.ALo(8,"translate"),t.qZA()()()),2&n&&(t.Q6J("formGroup",i.form),t.xp6(),t.Q6J("ngForOf",i.fields),t.xp6(3),t.Oqu(t.lcZ(5,4,"SAVE")),t.xp6(3),t.Oqu(t.lcZ(8,6,"GO_BACK")))},dependencies:[l.sg,l.O5,s._Y,s.Fj,s.JJ,s.JL,s.oH,s.sg,I,m.X$],encapsulation:2})}return o})();var Rt=u(1670),Gt=u(3721);let b=(()=>{class o{constructor(e,n,i,r){this.auth=e,this.router=n,this.toaster=i,this.translateService=r}canActivate(e,n){var i=this;return(0,Rt.Z)(function*(){return!!i.auth.isAdmin()||(i.auth.isUser()?(i.toaster.error(i.translateService.instant("FORBIDDEN")),!1):(i.toaster.info(i.translateService.instant("LOGIN_PLEASE")),yield i.router.navigate(["/auth"],{queryParams:{returnUrl:n.url}}),!1))})()}static#t=this.\u0275fac=function(n){return new(n||o)(t.LFG(Gt.e),t.LFG(_.F0),t.LFG(g._W),t.LFG(m.sK))};static#e=this.\u0275prov=t.Yz7({token:o,factory:o.\u0275fac})}return o})();const Ht=[{path:"",component:Jt,canActivate:[b]},{path:"new/:item",component:jt,canActivate:[b]},{path:"edit/:item/:id",component:Lt,canActivate:[b]}];let Kt=(()=>{class o{static#t=this.\u0275fac=function(n){return new(n||o)};static#e=this.\u0275mod=t.oAB({type:o});static#n=this.\u0275inj=t.cJS({imports:[_.Bz.forChild(Ht),_.Bz]})}return o})(),$t=(()=>{class o{static#t=this.\u0275fac=function(n){return new(n||o)};static#e=this.\u0275mod=t.oAB({type:o});static#n=this.\u0275inj=t.cJS({providers:[b],imports:[l.ez,Kt,m.aw,s.u5,s.UX,Ot]})}return o})()}}]);
//# sourceMappingURL=585.96b90bd9781976ee.js.map