"use strict";(self.webpackChunkAPP=self.webpackChunkAPP||[]).push([[72],{72:(Kt,G,d)=>{d.r(G),d.d(G,{AdminModule:()=>Ht});var l=d(5056),s=d(1904),m=d(2868),t=d(4896);const N=["input"],$=["window"];function Y(o,a){if(1&o&&(t.I0R(0,"label",8),t.OEk(1),t.C$Y()),2&o){const e=t.GaO(2);t.yG2(),t.cNF(null==e.button?null:e.button.label)}}function j(o,a){if(1&o){const e=t.KQA();t.I0R(0,"div",2,3),t.qCj("keyup.escape",function(){t.usT(e);const i=t.GaO();return t.CGJ(i.closeInputWindow())}),t.yuY(2,Y,2,1,"label",4),t.I0R(3,"div")(4,"input",5,6),t.iHE("ngModelChange",function(i){t.usT(e);const r=t.GaO();return t.kNx(r.value,i)||(r.value=i),t.CGJ(i)}),t.C$Y(),t.I0R(6,"button",7),t.qCj("click",function(){t.usT(e);const i=t.GaO();return t.CGJ(i.onCommand())}),t.OEk(7,"Confirm"),t.C$Y()()()}if(2&o){const e=t.GaO();t.m4B("margin-left",e.margin,"px")("opacity",e.opacity),t.yG2(2),t.E7m("ngIf",null==e.button?null:e.button.label),t.yG2(2),t.E7m("title",null==e.button?null:e.button.label),t.OKB("ngModel",e.value)}}function U(o,a){if(1&o&&(t.I0R(0,"option",2),t.OEk(1),t.C$Y()),2&o){const e=a.$implicit;t.E7m("value",e.value),t.yG2(),t.cNF(e.label)}}const L=["select"];function V(o,a){if(1&o&&(t.I0R(0,"option",4),t.OEk(1),t.C$Y()),2&o){const e=a.$implicit;t.E7m("value",e.label),t.yG2(),t.cNF(e.label)}}const q=["contentEditable"];function X(o,a){1&o&&t.wR5(0,"st-separator")}function J(o,a){if(1&o){const e=t.KQA();t.I0R(0,"st-button",10),t.qCj("command",function(i){t.usT(e);const r=t.GaO(2);return t.CGJ(r.execCommand(i))}),t.C$Y()}if(2&o){const e=t.GaO().$implicit,n=t.GaO();t.E7m("button",e)("state",n.queryCommandState[e.command])}}function Q(o,a){if(1&o){const e=t.KQA();t.I0R(0,"st-select",10),t.qCj("command",function(i){t.usT(e);const r=t.GaO(2);return t.CGJ(r.execCommand(i.command,i.value))}),t.C$Y()}if(2&o){const e=t.GaO().$implicit,n=t.GaO();t.E7m("button",e)("state",n.queryCommandState[e.command])}}function H(o,a){if(1&o){const e=t.KQA();t.I0R(0,"st-color-picker",10),t.qCj("command",function(i){t.usT(e);const r=t.GaO(2);return t.CGJ(r.execCommand(i.command,i.value))}),t.C$Y()}if(2&o){const e=t.GaO().$implicit,n=t.GaO();t.E7m("button",e)("state",n.queryCommandState[e.command])}}function K(o,a){if(1&o){const e=t.KQA();t.I0R(0,"st-input",11),t.qCj("command",function(i){t.usT(e);const r=t.GaO(2);return t.CGJ(r.execCommand(i.command,i.value))}),t.C$Y()}if(2&o){const e=t.GaO().$implicit;t.E7m("button",e)}}function W(o,a){if(1&o){const e=t.KQA();t.I0R(0,"st-dropdown",11),t.qCj("command",function(i){t.usT(e);const r=t.GaO(2);return t.CGJ(r.execCommand(i.command,i.value))}),t.C$Y()}if(2&o){const e=t.GaO().$implicit;t.E7m("button",e)}}function z(o,a){if(1&o&&(t.SAx(0,5),t.yuY(1,X,1,0,"st-separator",6)(2,J,1,2,"st-button",7)(3,Q,1,2,"st-select",8)(4,H,1,2,"st-color-picker",8)(5,K,1,1,"st-input",9)(6,W,1,1,"st-dropdown",9),t.k70()),2&o){const e=a.$implicit,n=t.GaO();t.E7m("ngSwitch",e.type),t.yG2(),t.E7m("ngSwitchCase",n.toolbarItemType.Separator),t.yG2(),t.E7m("ngIf",e.type===n.toolbarItemType.Button),t.yG2(),t.E7m("ngSwitchCase",n.toolbarItemType.Select),t.yG2(),t.E7m("ngSwitchCase",n.toolbarItemType.Color),t.yG2(),t.E7m("ngSwitchCase",n.toolbarItemType.Input),t.yG2(),t.E7m("ngSwitchCase",n.toolbarItemType.Dropdown)}}var c=function(o){return o[o.Separator=0]="Separator",o[o.Button=1]="Button",o[o.Select=2]="Select",o[o.Color=3]="Color",o[o.Input=4]="Input",o[o.Dropdown=5]="Dropdown",o}(c||{});const C={type:c.Button,command:"undo",icon:"fas fa-undo",title:"undo"},p={type:c.Separator},v={type:c.Button,command:"bold",icon:"fas fa-bold",title:"bold"},y={type:c.Button,command:"italic",icon:"fas fa-italic",title:"italic"},gt=[C,{type:c.Button,command:"redo",icon:"fas fa-redo",title:"redo"},{type:c.Button,command:"removeFormat",icon:"fas fa-remove-format",title:"remove format"},p,v,y,{type:c.Button,command:"underline",icon:"fas fa-underline",title:"underline"},{type:c.Button,command:"strikeThrough",icon:"fas fa-strikethrough",title:"strikethrough"},p,{type:c.Button,command:"justifyLeft",icon:"fas fa-align-left",title:"align left"},{type:c.Button,command:"justifyCenter",icon:"fas fa-align-center",title:"align center"},{type:c.Button,command:"justifyRight",icon:"fas fa-align-right",title:"align right"},{type:c.Button,command:"justifyFull",icon:"fas fa-align-justify",title:"align justify"},p,{type:c.Button,command:"insertOrderedList",icon:"fas fa-list-ol",title:"ordered list"},{type:c.Button,command:"insertUnorderedList",icon:"fas fa-list-ul",title:"unordered list"},p,{type:c.Button,command:"indent",icon:"fas fa-indent",title:"indent"},{type:c.Button,command:"outdent",icon:"fas fa-outdent",title:"outdent"},p,{type:c.Button,command:"subscript",icon:"fas fa-subscript",title:"subscript"},{type:c.Button,command:"superscript",icon:"fas fa-superscript",title:"superscript"},p,{type:c.Select,command:"fontSize",title:"font size",items:[{value:1,label:"1"},{value:2,label:"2"},{value:3,label:"3"},{value:4,label:"4"},{value:5,label:"5"},{value:6,label:"6"},{value:7,label:"7"}]},{type:c.Input,command:"createLink",icon:"fas fa-link",text:"Create link",title:"create link",label:"Create link"},{type:c.Button,command:"unlink",icon:"fas fa-unlink",title:"unlink"},p,{type:c.Input,command:"insertImage",icon:"fas fa-image",text:"Add image",title:"add image",label:"Create image from link"},{type:c.Color,command:"foreColor",icon:"fas fa-palette",title:"font color"}];let x=(()=>{class o{constructor(e){this.document=e}isCommandWithValue(e){return e.type===c.Select||e.type===c.Color}isCommandWithState(e){return e.type===c.Button}getQueryCommandState(e){return e.filter(n=>this.isCommandWithValue(n)||this.isCommandWithState(n)).reduce((n,i)=>({...n,[i.command]:this.isCommandWithValue(i)?this.document.queryCommandValue(String(i.command)):this.document.queryCommandState(String(i.command))}),{})}execCommand(e,n){this.document.execCommand(e,!1,n&&String(n))}static#t=this.\u0275fac=function(n){return new(n||o)(t.CoB(l.Ud))};static#e=this.\u0275prov=t.wxM({token:o,factory:o.\u0275fac})}return o})(),M=(()=>{class o{constructor(){this.command=new t._w7}onCommand(e){this.command.emit(e)}static#t=this.\u0275fac=function(n){return new(n||o)};static#e=this.\u0275cmp=t.In1({type:o,selectors:[["st-button"]],inputs:{button:"button",state:"state"},outputs:{command:"command"},decls:2,vars:5,consts:[[1,"st-button","st-toolbar-item",3,"title","click"]],template:function(n,i){1&n&&(t.I0R(0,"button",0),t.qCj("click",function(){return i.onCommand(null==i.button?null:i.button.command)}),t.wR5(1,"i"),t.C$Y()),2&n&&(t.eAK("active",i.state),t.E7m("title",(null==i.button?null:i.button.title)||""),t.yG2(),t.m8U(null==i.button?null:i.button.icon))},styles:[".st-toolbar-item[_ngcontent-%COMP%]{border:0;padding:8px 14px;background-color:#fff;border-radius:5px;margin-right:1px;cursor:pointer}.st-toolbar-item[_ngcontent-%COMP%]:hover{background-color:#e0e0e0}.st-toolbar-item[_ngcontent-%COMP%]:focus{outline-color:#424242}.st-button[_ngcontent-%COMP%]:hover{background-color:#e0e0e0}.st-button[_ngcontent-%COMP%]:active{transform:scale(.98);box-shadow:1px 1px 7px 1px #e0e0e0}.st-button.active[_ngcontent-%COMP%]{background-color:#424242;color:#fff}"]})}return o})(),vt=(()=>{class o{constructor(){this.command=new t._w7}onCommand(e,n){this.command.emit({command:e,value:n})}rgbStringToHex(e){const n=String(e).match(/rgba?\((\d{1,3}), ?(\d{1,3}), ?(\d{1,3})\)?(?:, ?(\d(?:\.\d?))\))?/);return n?"#"+[n[1],n[2],n[3]].map(i=>{const r=Number(i).toString(16);return 1===r.length?"0"+r:r}).join(""):"#000000"}static#t=this.\u0275fac=function(n){return new(n||o)};static#e=this.\u0275cmp=t.In1({type:o,selectors:[["st-color-picker"]],inputs:{button:"button",state:"state"},outputs:{command:"command"},decls:5,vars:7,consts:[[1,"st-button","st-toolbar-item",3,"title","click"],["type","color","tabindex","-1","onmousedown","return false;","onselectstart","return false;",1,"st-color-picker",3,"ngModel","change"],["colorPicker",""]],template:function(n,i){if(1&n){const r=t.KQA();t.I0R(0,"button",0),t.qCj("click",function(){t.usT(r);const f=t.Gew(3);return t.CGJ(f.click())}),t.OEk(1),t.I0R(2,"input",1,2),t.qCj("change",function(f){return i.onCommand(null==i.button?null:i.button.command,f.target.value)}),t.C$Y(),t.wR5(4,"i"),t.C$Y()}2&n&&(t.E7m("title",(null==i.button?null:i.button.title)||""),t.yG2(),t.oRS(" ",i.rgbStringToHex(i.state)," "),t.yG2(),t.E7m("ngModel",i.rgbStringToHex(i.state)),t.yG2(2),t.m8U(null==i.button?null:i.button.icon),t.m4B("color",i.state))},dependencies:[s.ot,s.ue,s._G],styles:[".st-toolbar-item[_ngcontent-%COMP%]{border:0;padding:8px 14px;background-color:#fff;border-radius:5px;margin-right:1px;cursor:pointer}.st-toolbar-item[_ngcontent-%COMP%]:hover{background-color:#e0e0e0}.st-toolbar-item[_ngcontent-%COMP%]:focus{outline-color:#424242}.st-button[_ngcontent-%COMP%]:hover{background-color:#e0e0e0}.st-button[_ngcontent-%COMP%]:active{transform:scale(.98);box-shadow:1px 1px 7px 1px #e0e0e0}.st-button.active[_ngcontent-%COMP%]{background-color:#424242;color:#fff}.st-color-picker[_ngcontent-%COMP%]{width:0;height:0;border:0;padding:0;margin:0;pointer-events:none}"]})}return o})(),Ot=(()=>{class o{constructor(e,n){this.element=e,this.document=n,this.command=new t._w7,this.showInputWindow=!1,this.value="",this.margin=0,this.opacity=0}onCommand(){this.value&&(this.selectionRange&&this.loadSelection(),this.closeInputWindow(),this.command.emit({command:this.button.command,value:this.button.transform?this.button.transform(this.value):this.value}),this.value="")}openInputWindow(){this.saveSelection(),this.showInputWindow=!0,setTimeout(()=>{this.margin=this.windowElement.nativeElement.getBoundingClientRect().width<278?-150:0,this.opacity=1,this.inputElement.nativeElement.focus()})}closeInputWindow(){this.showInputWindow=!1,this.margin=0,this.opacity=0}outsideClick(e){!this.element.nativeElement.contains(e.target)&&this.showInputWindow&&this.closeInputWindow()}loadSelection(){const e=this.document.defaultView.getSelection();e.removeAllRanges(),e.addRange(this.selectionRange),this.selectionRange=null}saveSelection(){const e=this.document.defaultView.getSelection();this.selectionRange=0===e.rangeCount?null:e.getRangeAt(0)}static#t=this.\u0275fac=function(n){return new(n||o)(t.GI1(t.GMv),t.GI1(l.Ud))};static#e=this.\u0275cmp=t.In1({type:o,selectors:[["st-input"]],viewQuery:function(n,i){if(1&n&&(t.CC$(N,5),t.CC$($,5)),2&n){let r;t.wto(r=t.Gqi())&&(i.inputElement=r.first),t.wto(r=t.Gqi())&&(i.windowElement=r.first)}},hostBindings:function(n,i){1&n&&t.qCj("click",function(u){return i.outsideClick(u)},!1,t.wLc)},inputs:{button:"button",state:"state"},outputs:{command:"command"},decls:2,vars:3,consts:[[3,"button","state","command"],["class","st-input-window",3,"margin-left","opacity","keyup.escape",4,"ngIf"],[1,"st-input-window",3,"keyup.escape"],["window",""],["class","st-input-label",4,"ngIf"],["type","text",1,"st-input-input",3,"title","ngModel","ngModelChange"],["input",""],[1,"st-input-button",3,"click"],[1,"st-input-label"]],template:function(n,i){1&n&&(t.I0R(0,"st-button",0),t.qCj("command",function(){return i.openInputWindow()}),t.C$Y(),t.yuY(1,j,8,7,"div",1)),2&n&&(t.E7m("button",i.button)("state",i.state),t.yG2(),t.E7m("ngIf",i.showInputWindow))},dependencies:[l.u_,s.ot,s.ue,s._G,M],styles:[".st-toolbar-item[_ngcontent-%COMP%], .st-input-button[_ngcontent-%COMP%]{border:0;padding:8px 14px;background-color:#fff;border-radius:5px;margin-right:1px;cursor:pointer}.st-toolbar-item[_ngcontent-%COMP%]:hover, .st-input-button[_ngcontent-%COMP%]:hover{background-color:#e0e0e0}.st-toolbar-item[_ngcontent-%COMP%]:focus, .st-input-button[_ngcontent-%COMP%]:focus{outline-color:#424242}.st-input-window[_ngcontent-%COMP%]{display:flex;flex-direction:column;background-color:#fff;position:absolute;padding:10px;top:5px;border:1px solid #bdbdbd;border-radius:5px;box-shadow:0 3px 7px #bdbdbd}.st-input-input[_ngcontent-%COMP%]{padding:8px 14px;background-color:#fff;margin-right:-1px;border:1px solid #bdbdbd;border-bottom-left-radius:5px;border-top-left-radius:5px}.st-input-button[_ngcontent-%COMP%]{margin-right:0;border-bottom-left-radius:0;border-top-left-radius:0;border:1px solid #bdbdbd}.st-input-label[_ngcontent-%COMP%]{font-size:14px;font-weight:700}"]})}return o})(),It=(()=>{class o{constructor(){this.command=new t._w7}ngOnInit(){!this.state&&this.button.items.length&&(this.state=this.button.items[0].value)}onCommand(e,n){this.command.emit({command:e,value:n})}static#t=this.\u0275fac=function(n){return new(n||o)};static#e=this.\u0275cmp=t.In1({type:o,selectors:[["st-select"]],inputs:{button:"button",state:"state"},outputs:{command:"command"},decls:2,vars:3,consts:[[1,"st-select","st-toolbar-item",3,"ngModel","title","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],[3,"value"]],template:function(n,i){1&n&&(t.I0R(0,"select",0),t.qCj("ngModelChange",function(u){return i.onCommand(null==i.button?null:i.button.command,u)}),t.yuY(1,U,2,2,"option",1),t.C$Y()),2&n&&(t.E7m("ngModel",i.state)("title",(null==i.button?null:i.button.title)||""),t.yG2(),t.E7m("ngForOf",null==i.button?null:i.button.items))},dependencies:[l.ay,s.wd,s.GO,s.GC,s.ue,s._G],styles:[".st-toolbar-item[_ngcontent-%COMP%]{border:0;padding:8px 14px;background-color:#fff;border-radius:5px;margin-right:1px;cursor:pointer}.st-toolbar-item[_ngcontent-%COMP%]:hover{background-color:#e0e0e0}.st-toolbar-item[_ngcontent-%COMP%]:focus{outline-color:#424242}option[_ngcontent-%COMP%]:checked{background-color:#424242;color:#fff}"]})}return o})(),wt=(()=>{class o{static#t=this.\u0275fac=function(n){return new(n||o)};static#e=this.\u0275cmp=t.In1({type:o,selectors:[["st-separator"]],decls:2,vars:0,consts:[[1,"st-divider"]],template:function(n,i){1&n&&(t.I0R(0,"div",0),t.OEk(1,"\xa0"),t.C$Y())},styles:[".st-toolbar-item[_ngcontent-%COMP%]{border:0;padding:8px 14px;background-color:#fff;border-radius:5px;margin-right:1px;cursor:pointer}.st-toolbar-item[_ngcontent-%COMP%]:hover{background-color:#e0e0e0}.st-toolbar-item[_ngcontent-%COMP%]:focus{outline-color:#424242}.st-divider[_ngcontent-%COMP%]{border-right:1px solid #bdbdbd;margin:0 5px 0 0;height:25px}"]})}return o})();const Tt={attributes:!0,childList:!0,subtree:!0,characterData:!0};let St=(()=>{class o{constructor(e){this.element=e,this.domModify=new t._w7}ngOnInit(){this.observer=new MutationObserver(()=>{this.domModify.emit()}),this.observer.observe(this.element.nativeElement,Tt)}ngOnDestroy(){this.observer.disconnect()}static#t=this.\u0275fac=function(n){return new(n||o)(t.GI1(t.GMv))};static#e=this.\u0275dir=t.Sc5({type:o,selectors:[["","stDomModify",""]],outputs:{domModify:"stDomModify"}})}return o})(),kt=(()=>{class o{constructor(e,n){this.document=e,this.element=n,this.selectionChange=new t._w7}selectionchange(){this.document.activeElement===this.element.nativeElement&&this.selectionChange.emit()}static#t=this.\u0275fac=function(n){return new(n||o)(t.GI1(l.Ud),t.GI1(t.GMv))};static#e=this.\u0275dir=t.Sc5({type:o,selectors:[["","stSelectionChange",""]],hostBindings:function(n,i){1&n&&t.qCj("selectionchange",function(){return i.selectionchange()},!1,t.wLc)},outputs:{selectionChange:"stSelectionChange"}})}return o})(),Gt=(()=>{class o{constructor(){this.label="",this.command=new t._w7}set button(e){this.label=e.label,this.width?this._button=e:this._tempButton=e}get button(){return this._button}ngAfterViewInit(){setTimeout(()=>{this.width=this.selectElement.nativeElement.getBoundingClientRect().width,this._button=this._tempButton})}onCommand({value:e}){const{command:n,value:i}=this.button.items.find(r=>r.label===e);this.command.emit({command:n,value:i})}static#t=this.\u0275fac=function(n){return new(n||o)};static#e=this.\u0275cmp=t.In1({type:o,selectors:[["st-dropdown"]],viewQuery:function(n,i){if(1&n&&t.CC$(L,5),2&n){let r;t.wto(r=t.Gqi())&&(i.selectElement=r.first)}},inputs:{button:"button"},outputs:{command:"command"},decls:5,vars:5,consts:[[1,"st-select","st-toolbar-item",3,"title","change"],["select",""],["value","","disabled","","selected","","hidden",""],[3,"value",4,"ngFor","ngForOf"],[3,"value"]],template:function(n,i){if(1&n){const r=t.KQA();t.I0R(0,"select",0,1),t.qCj("change",function(f){t.usT(r);const h=t.Gew(1);return i.onCommand(f.target),t.CGJ(h.value="")}),t.I0R(2,"option",2),t.OEk(3),t.C$Y(),t.yuY(4,V,2,2,"option",3),t.C$Y()}2&n&&(t.m4B("width",i.width,"px"),t.E7m("title",(null==i.button?null:i.button.title)||""),t.yG2(3),t.cNF(i.label),t.yG2(),t.E7m("ngForOf",null==i.button?null:i.button.items))},dependencies:[l.ay,s.wd,s.GO],styles:[".st-toolbar-item[_ngcontent-%COMP%]{border:0;padding:8px 14px;background-color:#fff;border-radius:5px;margin-right:1px;cursor:pointer}.st-toolbar-item[_ngcontent-%COMP%]:hover{background-color:#e0e0e0}.st-toolbar-item[_ngcontent-%COMP%]:focus{outline-color:#424242}"]})}return o})();const D={placeholder:"",buttons:gt};let R=(()=>{class o{set config(e){this._config={...D,...e}}get config(){return this._config}constructor(e,n){this.document=e,this.commandService=n,this._config=D,this.content="",this.toolbarItemType=c,this.isDisabled=!1,this.queryCommandState={}}ngAfterViewInit(){this.updateContentEditable()}writeValue(e){this.content=e,this.updateContentEditable()}registerOnChange(e){this.onChangeFn=e}registerOnTouched(e){this.onTouchedFn=e}setDisabledState(e){this.isDisabled=e}domModify(){this.contentEditable&&this.onChangeFn(this.contentEditable.nativeElement.innerHTML)}execCommand(e,n){this.contentEditable.nativeElement.focus(),this.commandService.execCommand(e,n),this.fetchQueryCommandState()}fetchQueryCommandState(){this.queryCommandState=this.commandService.getQueryCommandState(this.config.buttons)}trackBy(e,n){return n.name}updateContentEditable(){this.contentEditable&&(this.contentEditable.nativeElement.innerHTML=this.content)}static#t=this.\u0275fac=function(n){return new(n||o)(t.GI1(l.Ud),t.GI1(x))};static#e=this.\u0275cmp=t.In1({type:o,selectors:[["st-editor"]],viewQuery:function(n,i){if(1&n&&t.CC$(q,5),2&n){let r;t.wto(r=t.Gqi())&&(i.contentEditable=r.first)}},inputs:{config:"config"},features:[t.M5G([{provide:s.Y6,useExisting:o,multi:!0},x])],decls:5,vars:6,consts:[[1,"st-editor-container"],["tabIndex","0",1,"st-toolbar"],[3,"ngSwitch",4,"ngFor","ngForOf","ngForTrackBy"],[1,"st-area",3,"stDomModify","stSelectionChange","blur"],["contentEditable",""],[3,"ngSwitch"],[4,"ngSwitchCase"],[3,"button","state","command",4,"ngIf"],[3,"button","state","command",4,"ngSwitchCase"],[3,"button","command",4,"ngSwitchCase"],[3,"button","state","command"],[3,"button","command"]],template:function(n,i){1&n&&(t.I0R(0,"div",0)(1,"div",1),t.yuY(2,z,7,7,"ng-container",2),t.C$Y(),t.I0R(3,"div",3,4),t.qCj("stDomModify",function(){return i.domModify()})("stSelectionChange",function(){return i.fetchQueryCommandState()})("blur",function(){return i.onTouchedFn()}),t.C$Y()()),2&n&&(t.eAK("disabled",i.isDisabled),t.yG2(2),t.E7m("ngForOf",i.config.buttons)("ngForTrackBy",i.trackBy),t.yG2(),t.e48("data-placeholder",i.config.placeholder)("contenteditable",!i.isDisabled))},dependencies:[l.ay,l.u_,l.Ko,l.Wm,M,vt,Ot,It,wt,St,kt,Gt],styles:[".st-toolbar-item[_ngcontent-%COMP%]{border:0;padding:8px 14px;background-color:#fff;border-radius:5px;margin-right:1px;cursor:pointer}.st-toolbar-item[_ngcontent-%COMP%]:hover{background-color:#e0e0e0}.st-toolbar-item[_ngcontent-%COMP%]:focus{outline-color:#424242}.st-editor-container[_ngcontent-%COMP%]{position:relative}.st-editor-container.disabled[_ngcontent-%COMP%]{pointer-events:none;opacity:.5}.st-area[_ngcontent-%COMP%]{resize:vertical;overflow:auto;border:1px solid #bdbdbd;border-top:0;border-bottom-left-radius:5px;border-bottom-right-radius:5px;min-height:200px;padding:5px;background-color:#fff}.st-area[_ngcontent-%COMP%]:focus{outline-color:#424242}.st-area[_ngcontent-%COMP%]:empty:not(:focus):before{content:attr(data-placeholder);color:#bdbdbd;pointer-events:none}.st-toolbar[_ngcontent-%COMP%]{border-top-right-radius:5px;border-top-left-radius:5px;display:flex;flex-wrap:wrap;align-items:center;border:1px solid #bdbdbd;padding:5px;background-color:#fff}.st-toolbar[_ngcontent-%COMP%]:focus{outline-color:#424242}"]})}return o})(),E=(()=>{class o{static#t=this.\u0275fac=function(n){return new(n||o)};static#e=this.\u0275mod=t.a4G({type:o});static#n=this.\u0275inj=t.s3X({imports:[l.MD,s.y,s.sl]})}return o})();var _=d(8660),xt=d(6716),O=d(1672),I=d(9732),Mt=d(3712),b=d(8472);function Dt(o,a){if(1&o&&(t.I0R(0,"th",4),t.OEk(1),t.wVc(2,"translate"),t.C$Y()),2&o){const e=a.$implicit;t.yG2(),t.oRS(" ",t.kDX(2,1,e)," ")}}function Rt(o,a){if(1&o&&(t.I0R(0,"td",8),t.OEk(1),t.C$Y()),2&o){const e=a.$implicit;t.yG2(),t.oRS(" ",e," ")}}const Ft=(o,a)=>["/admin/edit/",o,a];function Bt(o,a){if(1&o){const e=t.KQA();t.I0R(0,"tr",6),t.yuY(1,Rt,2,1,"td",7),t.I0R(2,"td",8)(3,"button",9),t.wR5(4,"img",10),t.wVc(5,"translate"),t.wVc(6,"translate"),t.C$Y(),t.I0R(7,"button",11),t.qCj("click",function(){const r=t.usT(e).$implicit,u=t.GaO(2);return t.CGJ(u.deleteByID(r.id))}),t.wR5(8,"img",12),t.wVc(9,"translate"),t.wVc(10,"translate"),t.C$Y()()()}if(2&o){const e=a.$implicit,n=t.GaO(2);t.yG2(),t.E7m("ngForOf",n.getArrayDataFromJSON(e)),t.yG2(2),t.E7m("routerLink",t.IBC(14,Ft,n.currentType,e.id)),t.yG2(),t._6D("alt",t.kDX(5,6,"EDIT")),t._6D("title",t.kDX(6,8,"EDIT")),t.yG2(4),t._6D("alt",t.kDX(9,10,"DELETE")),t._6D("title",t.kDX(10,12,"DELETE"))}}function At(o,a){if(1&o&&(t.I0R(0,"div")(1,"table",1)(2,"thead")(3,"tr",2),t.yuY(4,Dt,3,3,"th",3),t.I0R(5,"th",4),t.OEk(6),t.wVc(7,"translate"),t.C$Y()()(),t.I0R(8,"tbody"),t.yuY(9,Bt,11,17,"tr",5),t.C$Y()(),t.I0R(10,"p"),t.OEk(11),t.wVc(12,"translate"),t.C$Y()()),2&o){const e=t.GaO();t.yG2(4),t.E7m("ngForOf",e.getArrayFieldsFromJSON(e.data["hydra:member"][0])),t.yG2(2),t.cNF(t.kDX(7,5,"ACTIONS")),t.yG2(3),t.E7m("ngForOf",e.data["hydra:member"]),t.yG2(2),t.CAO("",t.kDX(12,7,"TOTAL_ITEMS"),": ",e.data["hydra:totalItems"],"")}}let F=(()=>{class o{constructor(e,n,i){this.http=e,this.toaster=n,this.translateService=i}getArrayDataFromJSON(e){let n=[];for(let i of this.fields)n.push(e[i]);return n}getArrayFieldsFromJSON(e=[]){return this.fields=this.internalFieldsFilter(Object.keys(e)),this.fields}internalFieldsFilter(e){const n=["@id","@type"];return e.filter(i=>n.indexOf(i)<0)}deleteByID(e){return this.http.delete(xt.O.apiUrl+"/"+this.currentType+"/"+e,{observe:"response"}).pipe((0,O.a)(n=>(this.toaster.error(n.error.error),(0,I.c)(n)))).subscribe(()=>{this.toaster.success(this.translateService.instant("DELETED"));const n=this.data["hydra:member"].find(i=>i.id===e);this.data["hydra:member"].splice(this.data["hydra:member"].indexOf(n),1),this.data["hydra:totalItems"]-=1})}static#t=this.\u0275fac=function(n){return new(n||o)(t.GI1(Mt.KK),t.GI1(b.SA),t.GI1(m.qS))};static#e=this.\u0275cmp=t.In1({type:o,selectors:[["app-table"]],inputs:{data:"data",currentType:"currentType"},standalone:!0,features:[t.UHJ],decls:1,vars:1,consts:[[4,"ngIf"],["role","table",1,"table","table-bordered"],["role","rowgroup",1,"table-row","text-center"],["role","columnheader","scope","col",4,"ngFor","ngForOf"],["role","columnheader","scope","col"],["class","table-body table-row text-center","role","rowgroup",4,"ngFor","ngForOf"],["role","rowgroup",1,"table-body","table-row","text-center"],["role","cell",4,"ngFor","ngForOf"],["role","cell"],[1,"btn","p-0",3,"routerLink"],["src","https://material-icons.github.io/material-icons/svg/edit/baseline.svg",1,"d-inline-block","align-top",3,"alt","title"],[1,"btn","ms-2","p-0",3,"click"],["src","https://material-icons.github.io/material-icons/svg/delete/baseline.svg",1,"d-inline-block","align-top",3,"alt","title"]],template:function(n,i){1&n&&t.yuY(0,At,13,9,"div",0),2&n&&t.E7m("ngIf",i.data&&i.data["hydra:member"]&&i.data["hydra:totalItems"]>0)},dependencies:[l.u_,l.Iw,_.ER,m.O0,m.sD],styles:["td[_ngcontent-%COMP%], th[_ngcontent-%COMP%]{max-width:20rem;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}@media (max-width: 992px){td[_ngcontent-%COMP%], th[_ngcontent-%COMP%]{max-width:15rem}}@media (max-width: 768px){td[_ngcontent-%COMP%], th[_ngcontent-%COMP%]{max-width:10rem}}@media (max-width: 576px){.table-body[_ngcontent-%COMP%]{border-top:unset}.table-row[_ngcontent-%COMP%]{display:flex;flex-direction:column;flex-wrap:wrap}td[_ngcontent-%COMP%], th[_ngcontent-%COMP%]{max-width:20rem}}"]})}return o})();var w=d(5320),T=d(2084),S=d(3080);const Pt=o=>["/admin/new/",o];let B=(()=>{class o{constructor(e,n,i){this.subjectService=e,this.unitService=n,this.exerciseService=i}ngOnInit(){this.subjects$=this.subjectService.get(),this.units$=this.unitService.get(),this.exercises$=this.exerciseService.get(),this.currentTab="subjects",this.currentService=this.subjectService}setCurrentNav(e){this.currentTab=e.target.id}setCurrentData(){switch(this.currentTab){case"subjects":this.currentService=this.subjectService,this.subjects$=this.subjectService.get();break;case"units":this.currentService=this.unitService,this.units$=this.unitService.get();break;case"exercises":this.currentService=this.exerciseService,this.exercises$=this.exerciseService.get()}}static#t=this.\u0275fac=function(n){return new(n||o)(t.GI1(w.k),t.GI1(T.U),t.GI1(S.E))};static#e=this.\u0275cmp=t.In1({type:o,selectors:[["app-admin"]],standalone:!0,features:[t.UHJ],decls:28,vars:30,consts:[["role","tablist",1,"nav","nav-tabs"],["role","presentation",1,"nav-item"],["id","subjects","data-bs-toggle","tab","data-bs-target","#nav-subjects","type","button","role","tab","aria-controls","nav-subjects","aria-selected","true",1,"nav-link","active",3,"click"],["id","units","data-bs-toggle","tab","data-bs-target","#nav-units","type","button","role","tab","aria-controls","nav-units","aria-selected","false",1,"nav-link",3,"click"],["id","exercises","data-bs-toggle","tab","data-bs-target","#nav-exercises","type","button","role","tab","aria-controls","nav-exercises","aria-selected","false",1,"nav-link",3,"click"],["type","button","role","button","aria-selected","false",1,"nav-link",3,"routerLink"],["src","https://material-icons.github.io/material-icons/svg/add/baseline.svg",1,"d-inline-block","align-top",3,"alt","title"],[1,"tab-content"],["id","nav-subjects","role","tabpanel","aria-labelledby","subjects",1,"tab-pane","fade","show","active"],[3,"currentType","data"],["id","nav-units","role","tabpanel","aria-labelledby","units",1,"tab-pane","fade"],["id","nav-exercises","role","tabpanel","aria-labelledby","exercises",1,"tab-pane","fade"]],template:function(n,i){1&n&&(t.I0R(0,"ul",0)(1,"li",1)(2,"button",2),t.qCj("click",function(u){return i.setCurrentNav(u)}),t.OEk(3),t.wVc(4,"translate"),t.C$Y()(),t.I0R(5,"li",1)(6,"button",3),t.qCj("click",function(u){return i.setCurrentNav(u)}),t.OEk(7),t.wVc(8,"translate"),t.C$Y()(),t.I0R(9,"li",1)(10,"button",4),t.qCj("click",function(u){return i.setCurrentNav(u)}),t.OEk(11),t.wVc(12,"translate"),t.C$Y()(),t.I0R(13,"li",1)(14,"button",5),t.wR5(15,"img",6),t.wVc(16,"translate"),t.wVc(17,"translate"),t.C$Y()()(),t.I0R(18,"div",7)(19,"div",8),t.wR5(20,"app-table",9),t.wVc(21,"async"),t.C$Y(),t.I0R(22,"div",10),t.wR5(23,"app-table",9),t.wVc(24,"async"),t.C$Y(),t.I0R(25,"div",11),t.wR5(26,"app-table",9),t.wVc(27,"async"),t.C$Y()()),2&n&&(t.yG2(3),t.oRS(" ",t.kDX(4,12,"SUBJECTS")," "),t.yG2(4),t.oRS(" ",t.kDX(8,14,"UNITS")," "),t.yG2(4),t.oRS(" ",t.kDX(12,16,"EXERCISES")," "),t.yG2(3),t.E7m("routerLink",t.S45(28,Pt,i.currentTab)),t.yG2(),t._6D("alt",t.kDX(16,18,"ADD")),t._6D("title",t.kDX(17,20,"ADD")),t.yG2(5),t.E7m("currentType",i.currentTab)("data",t.kDX(21,22,i.subjects$)),t.yG2(3),t.E7m("currentType",i.currentTab)("data",t.kDX(24,24,i.units$)),t.yG2(3),t.E7m("currentType",i.currentTab)("data",t.kDX(27,26,i.exercises$)))},dependencies:[_.ER,F,l.a,m.O0,m.sD],encapsulation:2})}return o})();class Nt{static internalFieldsFilter(a){const e=["@id","@type","@context"];return a.filter(n=>e.indexOf(n)<0)}}function $t(o,a){if(1&o&&t.wR5(0,"input",9),2&o){const e=t.GaO(),n=e.$implicit,i=e.index,r=t.GaO();t.E7m("id",n)("formControl",r.formControlsArray[i])}}function Yt(o,a){if(1&o&&t.wR5(0,"st-editor",10),2&o){const e=t.GaO().index,n=t.GaO();t.E7m("formControl",n.formControlsArray[e])("config",n.config)}}function jt(o,a){if(1&o&&(t.I0R(0,"div",5)(1,"label",6),t.OEk(2),t.wVc(3,"translate"),t.C$Y(),t.yuY(4,$t,1,2,"input",7)(5,Yt,1,2,"st-editor",8),t.C$Y()),2&o){const e=a.$implicit,n=t.GaO();t.yG2(),t.E7m("for",e),t.yG2(),t.cNF(t.kDX(3,4,e)),t.yG2(2),t.E7m("ngIf","text"!==e),t.yG2(),t.E7m("ngIf","units"===n.item&&"text"===e)}}let A=(()=>{class o{constructor(e,n,i,r,u,f,h,k){this.route=e,this.subjectService=n,this.unitService=i,this.exerciseService=r,this._formBuilder=u,this.toaster=f,this.translateService=h,this._location=k,this.htmlContent="",this.config={buttons:[C,p,v,y]},this.formControlsArray=[],this.form=this._formBuilder.group({formControlsArray:this._formBuilder.array([])})}ngOnInit(){this.route.paramMap.subscribe(e=>{switch(this.item=e.get("item"),this.item){case"subjects":this.currentService=this.subjectService;break;case"units":this.currentService=this.unitService;break;case"exercises":this.currentService=this.exerciseService}e.get("id")&&(this.id=parseInt(e.get("id"))),this.currentService.getOne(this.id).subscribe(n=>{this.data=n,this.fields=Nt.internalFieldsFilter(Object.keys(n));for(let i of this.fields){let r=this._formBuilder.control({value:this.data[i],disabled:"id"===i},s.AQ.required);this.formControlsArray.push(r),this.form.addControl(i,r)}})})}backClicked(){this._location.back()}submit(){this.currentService.edit(this.id,this.form.value).pipe((0,O.a)(e=>(this.toaster.error(e.error["hydra:description"]),(0,I.c)(e)))).subscribe(()=>{this.toaster.success(this.translateService.instant("EDITED"))})}static#t=this.\u0275fac=function(n){return new(n||o)(t.GI1(_.gV),t.GI1(w.k),t.GI1(T.U),t.GI1(S.E),t.GI1(s.KE),t.GI1(b.SA),t.GI1(m.qS),t.GI1(l.oB))};static#e=this.\u0275cmp=t.In1({type:o,selectors:[["app-new-item"]],standalone:!0,features:[t.UHJ],decls:9,vars:8,consts:[[1,"mb-3",3,"formGroup"],["class","mt-2",4,"ngFor","ngForOf"],[1,"form-actions","mt-3","text-center"],["type","submit",1,"btn","btn-outline-primary","me-3",3,"click"],[1,"btn","btn-outline",3,"click"],[1,"mt-2"],["role","button",1,"form-label",3,"for"],["type","text","class","form-control",3,"id","formControl",4,"ngIf"],[3,"formControl","config",4,"ngIf"],["type","text",1,"form-control",3,"id","formControl"],[3,"formControl","config"]],template:function(n,i){1&n&&(t.I0R(0,"form",0),t.yuY(1,jt,6,6,"div",1),t.I0R(2,"div",2)(3,"button",3),t.qCj("click",function(){return i.submit()}),t.OEk(4),t.wVc(5,"translate"),t.C$Y(),t.I0R(6,"button",4),t.qCj("click",function(){return i.backClicked()}),t.OEk(7),t.wVc(8,"translate"),t.C$Y()()()),2&n&&(t.E7m("formGroup",i.form),t.yG2(),t.E7m("ngForOf",i.fields),t.yG2(3),t.cNF(t.kDX(5,4,"SAVE")),t.yG2(3),t.cNF(t.kDX(8,6,"GO_BACK")))},dependencies:[s.y,s.sz,s.ot,s.ue,s.u,s.sl,s.ug,s.uW,l.Iw,l.u_,E,R,m.O0,m.sD],encapsulation:2})}return o})();function Ut(o,a){if(1&o&&t.wR5(0,"input",9),2&o){const e=t.GaO(),n=e.$implicit,i=e.index,r=t.GaO();t.E7m("id",n)("formControl",r.formControlsArray[i])}}function Lt(o,a){if(1&o&&t.wR5(0,"st-editor",10),2&o){const e=t.GaO().index,n=t.GaO();t.E7m("formControl",n.formControlsArray[e])("config",n.config)}}function Vt(o,a){if(1&o&&(t.I0R(0,"div",5)(1,"label",6),t.OEk(2),t.wVc(3,"translate"),t.C$Y(),t.yuY(4,Ut,1,2,"input",7)(5,Lt,1,2,"st-editor",8),t.C$Y()),2&o){const e=a.$implicit,n=t.GaO();t.yG2(),t.E7m("for",e),t.yG2(),t.cNF(t.kDX(3,4,e)),t.yG2(2),t.E7m("ngIf","text"!==e),t.yG2(),t.E7m("ngIf","units"===n.item&&"text"===e)}}let P=(()=>{class o{constructor(e,n,i,r,u,f,h,k){this.route=e,this.subjectService=n,this.unitService=i,this.exerciseService=r,this._formBuilder=u,this.toaster=f,this.translateService=h,this._location=k,this.formControlsArray=[],this.config={buttons:[C,p,v,y]},this.form=this._formBuilder.group({formControlsArray:this._formBuilder.array([])})}ngOnInit(){this.route.paramMap.subscribe(e=>{switch(this.item=e.get("item"),this.item){case"subjects":this.currentService=this.subjectService,this.fields=["name","course"];break;case"units":this.currentService=this.unitService,this.fields=["title","text","subject"];break;case"exercises":this.currentService=this.exerciseService,this.fields=["title","question","answer","unit"]}for(let n of this.fields){let i=this._formBuilder.control("",s.AQ.required);this.formControlsArray.push(i),this.form.addControl(n,i)}})}backClicked(){this._location.back()}submit(){this.currentService.add(this.form.value).pipe((0,O.a)(e=>(this.toaster.error(e.error["hydra:description"]),(0,I.c)(e)))).subscribe(()=>{this.toaster.success(this.translateService.instant("ADDED"))})}static#t=this.\u0275fac=function(n){return new(n||o)(t.GI1(_.gV),t.GI1(w.k),t.GI1(T.U),t.GI1(S.E),t.GI1(s.KE),t.GI1(b.SA),t.GI1(m.qS),t.GI1(l.oB))};static#e=this.\u0275cmp=t.In1({type:o,selectors:[["app-new-item"]],standalone:!0,features:[t.UHJ],decls:9,vars:8,consts:[[1,"mb-3",3,"formGroup"],["class","mt-2",4,"ngFor","ngForOf"],[1,"form-actions","mt-3","text-center"],["type","submit",1,"btn","btn-outline-primary","me-3",3,"click"],[1,"btn","btn-outline",3,"click"],[1,"mt-2"],["role","button",1,"form-label",3,"for"],["type","text","class","form-control",3,"id","formControl",4,"ngIf"],[3,"formControl","config",4,"ngIf"],["type","text",1,"form-control",3,"id","formControl"],[3,"formControl","config"]],template:function(n,i){1&n&&(t.I0R(0,"form",0),t.yuY(1,Vt,6,6,"div",1),t.I0R(2,"div",2)(3,"button",3),t.qCj("click",function(){return i.submit()}),t.OEk(4),t.wVc(5,"translate"),t.C$Y(),t.I0R(6,"button",4),t.qCj("click",function(){return i.backClicked()}),t.OEk(7),t.wVc(8,"translate"),t.C$Y()()()),2&n&&(t.E7m("formGroup",i.form),t.yG2(),t.E7m("ngForOf",i.fields),t.yG2(3),t.cNF(t.kDX(5,4,"SAVE")),t.yG2(3),t.cNF(t.kDX(8,6,"GO_BACK")))},dependencies:[s.y,s.sz,s.ot,s.ue,s.u,s.sl,s.ug,s.uW,l.Iw,l.u_,E,R,m.O0,m.sD],encapsulation:2})}return o})();var qt=d(5392),Xt=d(9204);let g=(()=>{class o{constructor(e,n,i,r){this.auth=e,this.router=n,this.toaster=i,this.translateService=r}canActivate(e,n){var i=this;return(0,qt.c)(function*(){return!!i.auth.isAdmin()||(i.auth.isUser()?(i.toaster.error(i.translateService.instant("FORBIDDEN")),!1):(i.toaster.info(i.translateService.instant("LOGIN_PLEASE")),yield i.router.navigate(["/auth"],{queryParams:{returnUrl:n.url}}),!1))})()}static#t=this.\u0275fac=function(n){return new(n||o)(t.CoB(Xt.o),t.CoB(_.E5),t.CoB(b.SA),t.CoB(m.qS))};static#e=this.\u0275prov=t.wxM({token:o,factory:o.\u0275fac})}return o})();const Jt=[{path:"",component:B,canActivate:[g]},{path:"new/:item",component:P,canActivate:[g]},{path:"edit/:item/:id",component:A,canActivate:[g]}];let Qt=(()=>{class o{static#t=this.\u0275fac=function(n){return new(n||o)};static#e=this.\u0275mod=t.a4G({type:o});static#n=this.\u0275inj=t.s3X({imports:[_.qQ.forChild(Jt),_.qQ]})}return o})(),Ht=(()=>{class o{static#t=this.\u0275fac=function(n){return new(n||o)};static#e=this.\u0275mod=t.a4G({type:o});static#n=this.\u0275inj=t.s3X({providers:[g],imports:[l.MD,Qt,m.O0,s.y,s.sl,E,B,F,A,P]})}return o})()}}]);
//# sourceMappingURL=72.c162c24e929490dd.js.map