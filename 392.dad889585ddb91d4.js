"use strict";(self.webpackChunkAPP=self.webpackChunkAPP||[]).push([[392],{5008:(J,E,A)=>{A.r(E),A.d(E,{AuthModule:()=>L});var c=A(5056),e=A(1904),m=A(2868),u=A(8660),h=A(5392),I=A(1672),C=A(9732),w=A(6716),r=A(4896),G=A(3712),y=A(8472);function Q(t,a){1&t&&(r.I0R(0,"small",18),r.OEk(1),r.wVc(2,"translate"),r.C$Y()),2&t&&(r.yG2(),r.cNF(r.kDX(2,1,"FIRST_NAME_REQUIRED")))}function k(t,a){1&t&&(r.I0R(0,"small",18),r.OEk(1),r.wVc(2,"translate"),r.C$Y()),2&t&&(r.yG2(),r.cNF(r.kDX(2,1,"LAST_NAME_REQUIRED")))}function Y(t,a){1&t&&(r.I0R(0,"small",18),r.OEk(1),r.wVc(2,"translate"),r.C$Y()),2&t&&(r.yG2(),r.cNF(r.kDX(2,1,"EMAIL_REQUIRED")))}function M(t,a){1&t&&(r.I0R(0,"small",18),r.OEk(1),r.wVc(2,"translate"),r.C$Y()),2&t&&(r.yG2(),r.cNF(r.kDX(2,1,"PASSWORD_REQUIRED")))}function N(t,a){1&t&&r.wR5(0,"img",19)}function O(t,a){1&t&&(r.I0R(0,"div",20),r.OEk(1),r.wVc(2,"translate"),r.C$Y()),2&t&&(r.yG2(),r.cNF(r.kDX(2,1,"EMAIL_EXISTS")))}const f=t=>({"has-error":t}),S=()=>["/auth"];let R=(()=>{class t{constructor(s,n,o,l){this.http=s,this.router=n,this.toastr=o,this.translateService=l,this.form=new e.k1({firstName:new e.yM("",e.AQ.required),lastName:new e.yM("",e.AQ.required),email:new e.yM("",[e.AQ.email,e.AQ.required]),password:new e.yM("",e.AQ.required)}),this.loading=!0}ngOnInit(){this.loading=!1}register(){this.make(this.form.value)}make({firstName:s,lastName:n,email:o,password:l}){var i=this;return this.http.post(w.O.api.user,{observe:"response",firstName:s,lastName:n,email:o,plainPassword:l}).pipe((0,I.a)(d=>(this.error=d.error,(0,C.c)(d)))).subscribe(function(){var d=(0,h.c)(function*(g){g.hasOwnProperty("email")&&(i.loading=!0,i.toastr.info(i.translateService.instant("SIGNED_UP",{email:g.email})),yield i.router.navigate(["/auth"]))});return function(g){return d.apply(this,arguments)}}())}static#r=this.\u0275fac=function(n){return new(n||t)(r.GI1(G.KK),r.GI1(u.E5),r.GI1(y.SA),r.GI1(m.qS))};static#o=this.\u0275cmp=r.In1({type:t,selectors:[["app-register"]],standalone:!0,features:[r.UHJ],decls:38,vars:43,consts:[[1,"container"],[1,"text-center"],["name","form","role","form",3,"formGroup","ngSubmit"],[1,"form-group",3,"ngClass"],["for","firstName","role","button"],["class","form-text position-absolute text-danger",4,"ngIf"],["type","text","name","firstName","formControlName","firstName","id","firstName","required","",1,"form-control",3,"placeholder"],["for","lastName","role","button"],["type","text","name","lastName","formControlName","lastName","id","lastName","required","",1,"form-control",3,"placeholder"],["for","email","role","button"],["type","text","name","email","id","email","formControlName","email","required","",1,"form-control",3,"placeholder"],["for","password","role","button"],["type","password","name","password","id","password","formControlName","password","required","",1,"form-control",3,"placeholder"],[1,"form-actions","mt-4","text-center"],["type","submit",1,"btn","btn-outline-primary","me-3",3,"disabled"],["alt","loading","src","data:image/gif;base64,R0lGODlhEAAQAPIAAP///wAAAMLCwkJCQgAAAGJiYoKCgpKSkiH/C05FVFNDQVBFMi4wAwEAAAAh/hpDcmVhdGVkIHdpdGggYWpheGxvYWQuaW5mbwAh+QQJCgAAACwAAAAAEAAQAAADMwi63P4wyklrE2MIOggZnAdOmGYJRbExwroUmcG2LmDEwnHQLVsYOd2mBzkYDAdKa+dIAAAh+QQJCgAAACwAAAAAEAAQAAADNAi63P5OjCEgG4QMu7DmikRxQlFUYDEZIGBMRVsaqHwctXXf7WEYB4Ag1xjihkMZsiUkKhIAIfkECQoAAAAsAAAAABAAEAAAAzYIujIjK8pByJDMlFYvBoVjHA70GU7xSUJhmKtwHPAKzLO9HMaoKwJZ7Rf8AYPDDzKpZBqfvwQAIfkECQoAAAAsAAAAABAAEAAAAzMIumIlK8oyhpHsnFZfhYumCYUhDAQxRIdhHBGqRoKw0R8DYlJd8z0fMDgsGo/IpHI5TAAAIfkECQoAAAAsAAAAABAAEAAAAzIIunInK0rnZBTwGPNMgQwmdsNgXGJUlIWEuR5oWUIpz8pAEAMe6TwfwyYsGo/IpFKSAAAh+QQJCgAAACwAAAAAEAAQAAADMwi6IMKQORfjdOe82p4wGccc4CEuQradylesojEMBgsUc2G7sDX3lQGBMLAJibufbSlKAAAh+QQJCgAAACwAAAAAEAAQAAADMgi63P7wCRHZnFVdmgHu2nFwlWCI3WGc3TSWhUFGxTAUkGCbtgENBMJAEJsxgMLWzpEAACH5BAkKAAAALAAAAAAQABAAAAMyCLrc/jDKSatlQtScKdceCAjDII7HcQ4EMTCpyrCuUBjCYRgHVtqlAiB1YhiCnlsRkAAAOwAAAAAAAAAAAA==",4,"ngIf"],[1,"btn","btn-outline",3,"routerLink"],["class","alert alert-danger mb-0 mt-3 px-2 py-1","role","alert",4,"ngIf"],[1,"form-text","position-absolute","text-danger"],["alt","loading","src","data:image/gif;base64,R0lGODlhEAAQAPIAAP///wAAAMLCwkJCQgAAAGJiYoKCgpKSkiH/C05FVFNDQVBFMi4wAwEAAAAh/hpDcmVhdGVkIHdpdGggYWpheGxvYWQuaW5mbwAh+QQJCgAAACwAAAAAEAAQAAADMwi63P4wyklrE2MIOggZnAdOmGYJRbExwroUmcG2LmDEwnHQLVsYOd2mBzkYDAdKa+dIAAAh+QQJCgAAACwAAAAAEAAQAAADNAi63P5OjCEgG4QMu7DmikRxQlFUYDEZIGBMRVsaqHwctXXf7WEYB4Ag1xjihkMZsiUkKhIAIfkECQoAAAAsAAAAABAAEAAAAzYIujIjK8pByJDMlFYvBoVjHA70GU7xSUJhmKtwHPAKzLO9HMaoKwJZ7Rf8AYPDDzKpZBqfvwQAIfkECQoAAAAsAAAAABAAEAAAAzMIumIlK8oyhpHsnFZfhYumCYUhDAQxRIdhHBGqRoKw0R8DYlJd8z0fMDgsGo/IpHI5TAAAIfkECQoAAAAsAAAAABAAEAAAAzIIunInK0rnZBTwGPNMgQwmdsNgXGJUlIWEuR5oWUIpz8pAEAMe6TwfwyYsGo/IpFKSAAAh+QQJCgAAACwAAAAAEAAQAAADMwi6IMKQORfjdOe82p4wGccc4CEuQradylesojEMBgsUc2G7sDX3lQGBMLAJibufbSlKAAAh+QQJCgAAACwAAAAAEAAQAAADMgi63P7wCRHZnFVdmgHu2nFwlWCI3WGc3TSWhUFGxTAUkGCbtgENBMJAEJsxgMLWzpEAACH5BAkKAAAALAAAAAAQABAAAAMyCLrc/jDKSatlQtScKdceCAjDII7HcQ4EMTCpyrCuUBjCYRgHVtqlAiB1YhiCnlsRkAAAOwAAAAAAAAAAAA=="],["role","alert",1,"alert","alert-danger","mb-0","mt-3","px-2","py-1"]],template:function(n,o){1&n&&(r.I0R(0,"div",0)(1,"h2",1),r.OEk(2),r.wVc(3,"translate"),r.C$Y(),r.I0R(4,"form",2),r.qCj("ngSubmit",function(){return o.register()}),r.I0R(5,"div",3)(6,"label",4),r.OEk(7,"\xa0"),r.C$Y(),r.yuY(8,Q,3,3,"small",5),r.wR5(9,"input",6),r.wVc(10,"translate"),r.C$Y(),r.I0R(11,"div",3)(12,"label",7),r.OEk(13,"\xa0"),r.C$Y(),r.yuY(14,k,3,3,"small",5),r.wR5(15,"input",8),r.wVc(16,"translate"),r.C$Y(),r.I0R(17,"div",3)(18,"label",9),r.OEk(19,"\xa0"),r.C$Y(),r.yuY(20,Y,3,3,"small",5),r.wR5(21,"input",10),r.wVc(22,"translate"),r.C$Y(),r.I0R(23,"div",3)(24,"label",11),r.OEk(25,"\xa0"),r.C$Y(),r.yuY(26,M,3,3,"small",5),r.wR5(27,"input",12),r.wVc(28,"translate"),r.C$Y(),r.I0R(29,"div",13)(30,"button",14),r.OEk(31),r.wVc(32,"translate"),r.C$Y(),r.yuY(33,N,1,0,"img",15),r.I0R(34,"button",16),r.OEk(35),r.wVc(36,"translate"),r.C$Y()(),r.yuY(37,O,3,3,"div",17),r.C$Y()()),2&n&&(r.yG2(2),r.cNF(r.kDX(3,20,"REGISTER")),r.yG2(2),r.E7m("formGroup",o.form),r.yG2(),r.E7m("ngClass",r.S45(34,f,o.form.controls.firstName.touched&&(null==o.form.controls.firstName.errors?null:o.form.controls.firstName.errors.required))),r.yG2(3),r.E7m("ngIf",o.form.controls.firstName.touched&&(null==o.form.controls.firstName.errors?null:o.form.controls.firstName.errors.required)),r.yG2(),r._6D("placeholder",r.kDX(10,22,"FIRST_NAME")),r.yG2(2),r.E7m("ngClass",r.S45(36,f,o.form.controls.lastName.touched&&(null==o.form.controls.lastName.errors?null:o.form.controls.lastName.errors.required))),r.yG2(3),r.E7m("ngIf",o.form.controls.lastName.touched&&(null==o.form.controls.lastName.errors?null:o.form.controls.lastName.errors.required)),r.yG2(),r._6D("placeholder",r.kDX(16,24,"LAST_NAME")),r.yG2(2),r.E7m("ngClass",r.S45(38,f,o.form.controls.email.touched&&(null==o.form.controls.email.errors?null:o.form.controls.email.errors.required))),r.yG2(3),r.E7m("ngIf",o.form.controls.email.touched&&(null==o.form.controls.email.errors?null:o.form.controls.email.errors.required)),r.yG2(),r._6D("placeholder",r.kDX(22,26,"EMAIL")),r.yG2(2),r.E7m("ngClass",r.S45(40,f,o.form.controls.password.touched&&(null==o.form.controls.password.errors?null:o.form.controls.password.errors.required))),r.yG2(3),r.E7m("ngIf",o.form.controls.password.touched&&(null==o.form.controls.password.errors?null:o.form.controls.password.errors.required)),r.yG2(),r._6D("placeholder",r.kDX(28,28,"PASSWORD")),r.yG2(3),r.E7m("disabled",!o.form.valid&&!o.loading),r.yG2(),r.cNF(r.kDX(32,30,"REGISTER")),r.yG2(2),r.E7m("ngIf",o.loading),r.yG2(),r.E7m("routerLink",r.q4q(42,S)),r.yG2(),r.cNF(r.kDX(36,32,"CANCEL")),r.yG2(2),r.E7m("ngIf",o.error))},dependencies:[e.y,e.sz,e.ot,e.ue,e.u,e.eJ,e.sl,e.uW,e.Wo,c.QF,c.u_,u.ER,m.O0,m.sD],encapsulation:2})}return t})();function b(t,a){1&t&&(r.I0R(0,"small",13),r.OEk(1),r.wVc(2,"translate"),r.C$Y()),2&t&&(r.yG2(),r.cNF(r.kDX(2,1,"EMAIL_REQUIRED")))}function v(t,a){1&t&&(r.I0R(0,"small",13),r.OEk(1),r.wVc(2,"translate"),r.C$Y()),2&t&&(r.yG2(),r.cNF(r.kDX(2,1,"PASSWORD_REQUIRED")))}function F(t,a){if(1&t&&(r.I0R(0,"div",14),r.OEk(1),r.wVc(2,"translate"),r.C$Y()),2&t){const s=r.GaO();r.yG2(),r.cNF(r.kDX(2,1,s.error.error))}}const D=t=>({"has-error":t}),K=()=>["/auth/register"];let p=(()=>{class t{constructor(s,n,o,l){this.http=s,this.router=n,this.toastr=o,this.translateService=l,this.form=new e.k1({email:new e.yM("",[e.AQ.required,e.AQ.email]),password:new e.yM("",e.AQ.required)}),this.loading=!0}ngOnInit(){this.loading=!1}login(){this.make(this.form.value)}make({email:s,password:n}){var o=this;return this.http.post(w.O.api.login,{observe:"response",email:s,password:n}).pipe((0,I.a)(l=>(this.error=l.error,(0,C.c)(l)))).subscribe(function(){var l=(0,h.c)(function*(i){i.hasOwnProperty("roles")&&(o.loading=!0,localStorage.setItem("currentUser",s),localStorage.setItem("currentRole",JSON.parse(i.roles.content)[0]),o.toastr.info(o.translateService.instant("LOGGED_IN")),yield o.router.navigate(["/"]))});return function(i){return l.apply(this,arguments)}}())}static#r=this.\u0275fac=function(n){return new(n||t)(r.GI1(G.KK),r.GI1(u.E5),r.GI1(y.SA),r.GI1(m.qS))};static#o=this.\u0275cmp=r.In1({type:t,selectors:[["app-auth"]],standalone:!0,features:[r.UHJ],decls:25,vars:28,consts:[[1,"container"],[1,"text-center"],["name","form","role","form",3,"formGroup","ngSubmit"],[1,"form-group",3,"ngClass"],["for","email","role","button"],["class","form-text position-absolute text-danger",4,"ngIf"],["type","text","id","email","formControlName","email","required","",1,"form-control",3,"placeholder"],["for","password","role","button"],["type","password","id","password","formControlName","password","required","",1,"form-control",3,"placeholder"],["class","alert alert-danger mb-0 mt-3 px-2 py-1","role","alert",4,"ngIf"],[1,"form-actions","mt-4","text-center"],["type","submit","id","submit",1,"btn","btn-outline-primary","me-3",3,"disabled"],[1,"btn","btn-outline",3,"routerLink"],[1,"form-text","position-absolute","text-danger"],["role","alert",1,"alert","alert-danger","mb-0","mt-3","px-2","py-1"]],template:function(n,o){1&n&&(r.I0R(0,"div",0)(1,"h2",1),r.OEk(2),r.wVc(3,"translate"),r.C$Y(),r.I0R(4,"form",2),r.qCj("ngSubmit",function(){return o.login()}),r.I0R(5,"div",3)(6,"label",4),r.OEk(7,"\xa0"),r.C$Y(),r.yuY(8,b,3,3,"small",5),r.wR5(9,"input",6),r.wVc(10,"translate"),r.C$Y(),r.I0R(11,"div",3)(12,"label",7),r.OEk(13,"\xa0"),r.C$Y(),r.yuY(14,v,3,3,"small",5),r.wR5(15,"input",8),r.wVc(16,"translate"),r.C$Y(),r.yuY(17,F,3,3,"div",9),r.I0R(18,"div",10)(19,"button",11),r.OEk(20),r.wVc(21,"translate"),r.C$Y(),r.I0R(22,"button",12),r.OEk(23),r.wVc(24,"translate"),r.C$Y()()()()),2&n&&(r.yG2(2),r.cNF(r.kDX(3,13,"LOGIN")),r.yG2(2),r.E7m("formGroup",o.form),r.yG2(),r.E7m("ngClass",r.S45(23,D,o.form.controls.email.touched&&(null==o.form.controls.email.errors?null:o.form.controls.email.errors.required))),r.yG2(3),r.E7m("ngIf",o.form.controls.email.touched&&(null==o.form.controls.email.errors?null:o.form.controls.email.errors.required)),r.yG2(),r._6D("placeholder",r.kDX(10,15,"EMAIL")),r.yG2(2),r.E7m("ngClass",r.S45(25,D,o.form.controls.password.touched&&(null==o.form.controls.password.errors?null:o.form.controls.password.errors.required))),r.yG2(3),r.E7m("ngIf",o.form.controls.password.touched&&(null==o.form.controls.password.errors?null:o.form.controls.password.errors.required)),r.yG2(),r._6D("placeholder",r.kDX(16,17,"PASSWORD")),r.yG2(2),r.E7m("ngIf",o.error),r.yG2(2),r.E7m("disabled",!o.form.valid&&!o.loading),r.yG2(),r.oRS(" ",r.kDX(21,19,"LOGIN")," "),r.yG2(2),r.E7m("routerLink",r.q4q(27,K)),r.yG2(),r.cNF(r.kDX(24,21,"REGISTER")))},dependencies:[e.y,e.sz,e.ot,e.ue,e.u,e.eJ,e.sl,e.uW,e.Wo,c.QF,c.u_,u.ER,m.O0,m.sD],encapsulation:2})}return t})();const B=[{path:"register",component:R},{path:"login",component:p},{path:"",component:p}];let V=(()=>{class t{static#r=this.\u0275fac=function(n){return new(n||t)};static#o=this.\u0275mod=r.a4G({type:t});static#t=this.\u0275inj=r.s3X({imports:[u.qQ.forChild(B),u.qQ]})}return t})(),L=(()=>{class t{static#r=this.\u0275fac=function(n){return new(n||t)};static#o=this.\u0275mod=r.a4G({type:t});static#t=this.\u0275inj=r.s3X({imports:[c.MD,V,e.y,e.sl,m.O0,p,R]})}return t})()}}]);
//# sourceMappingURL=392.dad889585ddb91d4.js.map