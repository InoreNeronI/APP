"use strict";(self.webpackChunkAPP=self.webpackChunkAPP||[]).push([[870],{2870:(Kt,x,u)=>{u.r(x),u.d(x,{AdminModule:()=>Qt});var l=u(316),s=u(4456),m=u(1752),t=u(8559);const U=["input"],$=["window"];function P(o,a){if(1&o&&(t.j41(0,"label",8),t.EFF(1),t.k0s()),2&o){const e=t.XpG(2);t.R7$(),t.JRh(null==e.button?null:e.button.label)}}function X(o,a){if(1&o){const e=t.RV6();t.j41(0,"div",4,0),t.bIt("keyup.escape",function(){t.eBV(e);const i=t.XpG();return t.Njj(i.closeInputWindow())}),t.DNE(2,P,2,1,"label",5),t.j41(3,"div")(4,"input",6,1),t.mxI("ngModelChange",function(i){t.eBV(e);const r=t.XpG();return t.DH7(r.value,i)||(r.value=i),t.Njj(i)}),t.k0s(),t.j41(6,"button",7),t.bIt("click",function(){t.eBV(e);const i=t.XpG();return t.Njj(i.onCommand())}),t.EFF(7,"Confirm"),t.k0s()()()}if(2&o){const e=t.XpG();t.xc7("margin-left",e.margin,"px")("opacity",e.opacity),t.R7$(2),t.Y8G("ngIf",null==e.button?null:e.button.label),t.R7$(2),t.Y8G("title",null==e.button?null:e.button.label),t.R50("ngModel",e.value)}}function A(o,a){if(1&o&&(t.j41(0,"option",2),t.EFF(1),t.k0s()),2&o){const e=a.$implicit;t.Y8G("value",e.value),t.R7$(),t.JRh(e.label)}}const V=["select"];function Y(o,a){if(1&o&&(t.j41(0,"option",4),t.EFF(1),t.k0s()),2&o){const e=a.$implicit;t.Y8G("value",e.label),t.R7$(),t.JRh(e.label)}}const L=["contentEditable"];function H(o,a){1&o&&t.nrm(0,"st-separator")}function J(o,a){if(1&o){const e=t.RV6();t.j41(0,"st-button",10),t.bIt("command",function(i){t.eBV(e);const r=t.XpG(2);return t.Njj(r.execCommand(i))}),t.k0s()}if(2&o){const e=t.XpG().$implicit,n=t.XpG();t.Y8G("button",e)("state",n.queryCommandState[e.command])}}function W(o,a){if(1&o){const e=t.RV6();t.j41(0,"st-select",10),t.bIt("command",function(i){t.eBV(e);const r=t.XpG(2);return t.Njj(r.execCommand(i.command,i.value))}),t.k0s()}if(2&o){const e=t.XpG().$implicit,n=t.XpG();t.Y8G("button",e)("state",n.queryCommandState[e.command])}}function Q(o,a){if(1&o){const e=t.RV6();t.j41(0,"st-color-picker",10),t.bIt("command",function(i){t.eBV(e);const r=t.XpG(2);return t.Njj(r.execCommand(i.command,i.value))}),t.k0s()}if(2&o){const e=t.XpG().$implicit,n=t.XpG();t.Y8G("button",e)("state",n.queryCommandState[e.command])}}function K(o,a){if(1&o){const e=t.RV6();t.j41(0,"st-input",11),t.bIt("command",function(i){t.eBV(e);const r=t.XpG(2);return t.Njj(r.execCommand(i.command,i.value))}),t.k0s()}if(2&o){const e=t.XpG().$implicit;t.Y8G("button",e)}}function q(o,a){if(1&o){const e=t.RV6();t.j41(0,"st-dropdown",11),t.bIt("command",function(i){t.eBV(e);const r=t.XpG(2);return t.Njj(r.execCommand(i.command,i.value))}),t.k0s()}if(2&o){const e=t.XpG().$implicit;t.Y8G("button",e)}}function z(o,a){if(1&o&&(t.qex(0,5),t.DNE(1,H,1,0,"st-separator",6)(2,J,1,2,"st-button",7)(3,W,1,2,"st-select",8)(4,Q,1,2,"st-color-picker",8)(5,K,1,1,"st-input",9)(6,q,1,1,"st-dropdown",9),t.bVm()),2&o){const e=a.$implicit,n=t.XpG();t.Y8G("ngSwitch",e.type),t.R7$(),t.Y8G("ngSwitchCase",n.toolbarItemType.Separator),t.R7$(),t.Y8G("ngIf",e.type===n.toolbarItemType.Button),t.R7$(),t.Y8G("ngSwitchCase",n.toolbarItemType.Select),t.R7$(),t.Y8G("ngSwitchCase",n.toolbarItemType.Color),t.R7$(),t.Y8G("ngSwitchCase",n.toolbarItemType.Input),t.R7$(),t.Y8G("ngSwitchCase",n.toolbarItemType.Dropdown)}}var c=function(o){return o[o.Separator=0]="Separator",o[o.Button=1]="Button",o[o.Select=2]="Select",o[o.Color=3]="Color",o[o.Input=4]="Input",o[o.Dropdown=5]="Dropdown",o}(c||{});const v={type:c.Button,command:"undo",icon:"fas fa-undo",title:"undo"},p={type:c.Separator},C={type:c.Button,command:"bold",icon:"fas fa-bold",title:"bold"},y={type:c.Button,command:"italic",icon:"fas fa-italic",title:"italic"},gt=[v,{type:c.Button,command:"redo",icon:"fas fa-redo",title:"redo"},{type:c.Button,command:"removeFormat",icon:"fas fa-remove-format",title:"remove format"},p,C,y,{type:c.Button,command:"underline",icon:"fas fa-underline",title:"underline"},{type:c.Button,command:"strikeThrough",icon:"fas fa-strikethrough",title:"strikethrough"},p,{type:c.Button,command:"justifyLeft",icon:"fas fa-align-left",title:"align left"},{type:c.Button,command:"justifyCenter",icon:"fas fa-align-center",title:"align center"},{type:c.Button,command:"justifyRight",icon:"fas fa-align-right",title:"align right"},{type:c.Button,command:"justifyFull",icon:"fas fa-align-justify",title:"align justify"},p,{type:c.Button,command:"insertOrderedList",icon:"fas fa-list-ol",title:"ordered list"},{type:c.Button,command:"insertUnorderedList",icon:"fas fa-list-ul",title:"unordered list"},p,{type:c.Button,command:"indent",icon:"fas fa-indent",title:"indent"},{type:c.Button,command:"outdent",icon:"fas fa-outdent",title:"outdent"},p,{type:c.Button,command:"subscript",icon:"fas fa-subscript",title:"subscript"},{type:c.Button,command:"superscript",icon:"fas fa-superscript",title:"superscript"},p,{type:c.Select,command:"fontSize",title:"font size",items:[{value:1,label:"1"},{value:2,label:"2"},{value:3,label:"3"},{value:4,label:"4"},{value:5,label:"5"},{value:6,label:"6"},{value:7,label:"7"}]},{type:c.Input,command:"createLink",icon:"fas fa-link",text:"Create link",title:"create link",label:"Create link"},{type:c.Button,command:"unlink",icon:"fas fa-unlink",title:"unlink"},p,{type:c.Input,command:"insertImage",icon:"fas fa-image",text:"Add image",title:"add image",label:"Create image from link"},{type:c.Color,command:"foreColor",icon:"fas fa-palette",title:"font color"}];let w=(()=>{class o{constructor(e){this.document=e}isCommandWithValue(e){return e.type===c.Select||e.type===c.Color}isCommandWithState(e){return e.type===c.Button}getQueryCommandState(e){return e.filter(n=>this.isCommandWithValue(n)||this.isCommandWithState(n)).reduce((n,i)=>({...n,[i.command]:this.isCommandWithValue(i)?this.document.queryCommandValue(String(i.command)):this.document.queryCommandState(String(i.command))}),{})}execCommand(e,n){this.document.execCommand(e,!1,n&&String(n))}static#t=this.\u0275fac=function(n){return new(n||o)(t.KVO(l.qQ))};static#e=this.\u0275prov=t.jDH({token:o,factory:o.\u0275fac})}return o})(),F=(()=>{class o{constructor(){this.command=new t.bkB}onCommand(e){this.command.emit(e)}static#t=this.\u0275fac=function(n){return new(n||o)};static#e=this.\u0275cmp=t.VBU({type:o,selectors:[["st-button"]],inputs:{button:"button",state:"state"},outputs:{command:"command"},decls:2,vars:5,consts:[[1,"st-button","st-toolbar-item",3,"click","title"]],template:function(n,i){1&n&&(t.j41(0,"button",0),t.bIt("click",function(){return i.onCommand(null==i.button?null:i.button.command)}),t.nrm(1,"i"),t.k0s()),2&n&&(t.AVh("active",i.state),t.Y8G("title",(null==i.button?null:i.button.title)||""),t.R7$(),t.HbH(null==i.button?null:i.button.icon))},styles:[".st-toolbar-item[_ngcontent-%COMP%]{border:0;padding:8px 14px;background-color:#fff;border-radius:5px;margin-right:1px;cursor:pointer}.st-toolbar-item[_ngcontent-%COMP%]:hover{background-color:#e0e0e0}.st-toolbar-item[_ngcontent-%COMP%]:focus{outline-color:#424242}.st-button[_ngcontent-%COMP%]:hover{background-color:#e0e0e0}.st-button[_ngcontent-%COMP%]:active{transform:scale(.98);box-shadow:1px 1px 7px 1px #e0e0e0}.st-button.active[_ngcontent-%COMP%]{background-color:#424242;color:#fff}"]})}return o})(),Ct=(()=>{class o{constructor(){this.command=new t.bkB}onCommand(e,n){this.command.emit({command:e,value:n})}rgbStringToHex(e){const n=String(e).match(/rgba?\((\d{1,3}), ?(\d{1,3}), ?(\d{1,3})\)?(?:, ?(\d(?:\.\d?))\))?/);return n?"#"+[n[1],n[2],n[3]].map(i=>{const r=Number(i).toString(16);return 1===r.length?"0"+r:r}).join(""):"#000000"}static#t=this.\u0275fac=function(n){return new(n||o)};static#e=this.\u0275cmp=t.VBU({type:o,selectors:[["st-color-picker"]],inputs:{button:"button",state:"state"},outputs:{command:"command"},decls:5,vars:7,consts:[["colorPicker",""],[1,"st-button","st-toolbar-item",3,"click","title"],["type","color","tabindex","-1","onmousedown","return false;","onselectstart","return false;",1,"st-color-picker",3,"change","ngModel"]],template:function(n,i){if(1&n){const r=t.RV6();t.j41(0,"button",1),t.bIt("click",function(){t.eBV(r);const b=t.sdS(3);return t.Njj(b.click())}),t.EFF(1),t.j41(2,"input",2,0),t.bIt("change",function(b){return t.eBV(r),t.Njj(i.onCommand(null==i.button?null:i.button.command,b.target.value))}),t.k0s(),t.nrm(4,"i"),t.k0s()}2&n&&(t.Y8G("title",(null==i.button?null:i.button.title)||""),t.R7$(),t.SpI(" ",i.rgbStringToHex(i.state)," "),t.R7$(),t.Y8G("ngModel",i.rgbStringToHex(i.state)),t.R7$(2),t.HbH(null==i.button?null:i.button.icon),t.xc7("color",i.state))},dependencies:[s.me,s.BC,s.vS],styles:[".st-toolbar-item[_ngcontent-%COMP%]{border:0;padding:8px 14px;background-color:#fff;border-radius:5px;margin-right:1px;cursor:pointer}.st-toolbar-item[_ngcontent-%COMP%]:hover{background-color:#e0e0e0}.st-toolbar-item[_ngcontent-%COMP%]:focus{outline-color:#424242}.st-button[_ngcontent-%COMP%]:hover{background-color:#e0e0e0}.st-button[_ngcontent-%COMP%]:active{transform:scale(.98);box-shadow:1px 1px 7px 1px #e0e0e0}.st-button.active[_ngcontent-%COMP%]{background-color:#424242;color:#fff}.st-color-picker[_ngcontent-%COMP%]{width:0;height:0;border:0;padding:0;margin:0;pointer-events:none}"]})}return o})(),kt=(()=>{class o{constructor(e,n){this.element=e,this.document=n,this.command=new t.bkB,this.showInputWindow=!1,this.value="",this.margin=0,this.opacity=0}onCommand(){this.value&&(this.selectionRange&&this.loadSelection(),this.closeInputWindow(),this.command.emit({command:this.button.command,value:this.button.transform?this.button.transform(this.value):this.value}),this.value="")}openInputWindow(){this.saveSelection(),this.showInputWindow=!0,setTimeout(()=>{this.margin=this.windowElement.nativeElement.getBoundingClientRect().width<278?-150:0,this.opacity=1,this.inputElement.nativeElement.focus()})}closeInputWindow(){this.showInputWindow=!1,this.margin=0,this.opacity=0}outsideClick(e){!this.element.nativeElement.contains(e.target)&&this.showInputWindow&&this.closeInputWindow()}loadSelection(){const e=this.document.defaultView.getSelection();e.removeAllRanges(),e.addRange(this.selectionRange),this.selectionRange=null}saveSelection(){const e=this.document.defaultView.getSelection();this.selectionRange=0===e.rangeCount?null:e.getRangeAt(0)}static#t=this.\u0275fac=function(n){return new(n||o)(t.rXU(t.aKT),t.rXU(l.qQ))};static#e=this.\u0275cmp=t.VBU({type:o,selectors:[["st-input"]],viewQuery:function(n,i){if(1&n&&(t.GBs(U,5),t.GBs($,5)),2&n){let r;t.mGM(r=t.lsd())&&(i.inputElement=r.first),t.mGM(r=t.lsd())&&(i.windowElement=r.first)}},hostBindings:function(n,i){1&n&&t.bIt("click",function(d){return i.outsideClick(d)},!1,t.EBC)},inputs:{button:"button",state:"state"},outputs:{command:"command"},decls:2,vars:3,consts:[["window",""],["input",""],[3,"command","button","state"],["class","st-input-window",3,"margin-left","opacity","keyup.escape",4,"ngIf"],[1,"st-input-window",3,"keyup.escape"],["class","st-input-label",4,"ngIf"],["type","text",1,"st-input-input",3,"ngModelChange","title","ngModel"],[1,"st-input-button",3,"click"],[1,"st-input-label"]],template:function(n,i){1&n&&(t.j41(0,"st-button",2),t.bIt("command",function(){return i.openInputWindow()}),t.k0s(),t.DNE(1,X,8,7,"div",3)),2&n&&(t.Y8G("button",i.button)("state",i.state),t.R7$(),t.Y8G("ngIf",i.showInputWindow))},dependencies:[l.bT,s.me,s.BC,s.vS,F],styles:[".st-toolbar-item[_ngcontent-%COMP%], .st-input-button[_ngcontent-%COMP%]{border:0;padding:8px 14px;background-color:#fff;border-radius:5px;margin-right:1px;cursor:pointer}.st-toolbar-item[_ngcontent-%COMP%]:hover, .st-input-button[_ngcontent-%COMP%]:hover{background-color:#e0e0e0}.st-toolbar-item[_ngcontent-%COMP%]:focus, .st-input-button[_ngcontent-%COMP%]:focus{outline-color:#424242}.st-input-window[_ngcontent-%COMP%]{display:flex;flex-direction:column;background-color:#fff;position:absolute;padding:10px;top:5px;border:1px solid #bdbdbd;border-radius:5px;box-shadow:0 3px 7px #bdbdbd}.st-input-input[_ngcontent-%COMP%]{padding:8px 14px;background-color:#fff;margin-right:-1px;border:1px solid #bdbdbd;border-bottom-left-radius:5px;border-top-left-radius:5px}.st-input-button[_ngcontent-%COMP%]{margin-right:0;border-bottom-left-radius:0;border-top-left-radius:0;border:1px solid #bdbdbd}.st-input-label[_ngcontent-%COMP%]{font-size:14px;font-weight:700}"]})}return o})(),Et=(()=>{class o{constructor(){this.command=new t.bkB}ngOnInit(){!this.state&&this.button.items.length&&(this.state=this.button.items[0].value)}onCommand(e,n){this.command.emit({command:e,value:n})}static#t=this.\u0275fac=function(n){return new(n||o)};static#e=this.\u0275cmp=t.VBU({type:o,selectors:[["st-select"]],inputs:{button:"button",state:"state"},outputs:{command:"command"},decls:2,vars:3,consts:[[1,"st-select","st-toolbar-item",3,"ngModelChange","ngModel","title"],[3,"value",4,"ngFor","ngForOf"],[3,"value"]],template:function(n,i){1&n&&(t.j41(0,"select",0),t.bIt("ngModelChange",function(d){return i.onCommand(null==i.button?null:i.button.command,d)}),t.DNE(1,A,2,2,"option",1),t.k0s()),2&n&&(t.Y8G("ngModel",i.state)("title",(null==i.button?null:i.button.title)||""),t.R7$(),t.Y8G("ngForOf",null==i.button?null:i.button.items))},dependencies:[l.Sq,s.xH,s.y7,s.wz,s.BC,s.vS],styles:[".st-toolbar-item[_ngcontent-%COMP%]{border:0;padding:8px 14px;background-color:#fff;border-radius:5px;margin-right:1px;cursor:pointer}.st-toolbar-item[_ngcontent-%COMP%]:hover{background-color:#e0e0e0}.st-toolbar-item[_ngcontent-%COMP%]:focus{outline-color:#424242}option[_ngcontent-%COMP%]:checked{background-color:#424242;color:#fff}"]})}return o})(),St=(()=>{class o{static#t=this.\u0275fac=function(n){return new(n||o)};static#e=this.\u0275cmp=t.VBU({type:o,selectors:[["st-separator"]],decls:2,vars:0,consts:[[1,"st-divider"]],template:function(n,i){1&n&&(t.j41(0,"div",0),t.EFF(1,"\xa0"),t.k0s())},styles:[".st-toolbar-item[_ngcontent-%COMP%]{border:0;padding:8px 14px;background-color:#fff;border-radius:5px;margin-right:1px;cursor:pointer}.st-toolbar-item[_ngcontent-%COMP%]:hover{background-color:#e0e0e0}.st-toolbar-item[_ngcontent-%COMP%]:focus{outline-color:#424242}.st-divider[_ngcontent-%COMP%]{border-right:1px solid #bdbdbd;margin:0 5px 0 0;height:25px}"]})}return o})();const It={attributes:!0,childList:!0,subtree:!0,characterData:!0};let Mt=(()=>{class o{constructor(e){this.element=e,this.domModify=new t.bkB}ngOnInit(){this.observer=new MutationObserver(()=>{this.domModify.emit()}),this.observer.observe(this.element.nativeElement,It)}ngOnDestroy(){this.observer.disconnect()}static#t=this.\u0275fac=function(n){return new(n||o)(t.rXU(t.aKT))};static#e=this.\u0275dir=t.FsC({type:o,selectors:[["","stDomModify",""]],outputs:{domModify:"stDomModify"}})}return o})(),Ot=(()=>{class o{constructor(e,n){this.document=e,this.element=n,this.selectionChange=new t.bkB}selectionchange(){this.document.activeElement===this.element.nativeElement&&this.selectionChange.emit()}static#t=this.\u0275fac=function(n){return new(n||o)(t.rXU(l.qQ),t.rXU(t.aKT))};static#e=this.\u0275dir=t.FsC({type:o,selectors:[["","stSelectionChange",""]],hostBindings:function(n,i){1&n&&t.bIt("selectionchange",function(){return i.selectionchange()},!1,t.EBC)},outputs:{selectionChange:"stSelectionChange"}})}return o})(),xt=(()=>{class o{constructor(){this.label="",this.command=new t.bkB}set button(e){this.label=e.label,this.width?this._button=e:this._tempButton=e}get button(){return this._button}ngAfterViewInit(){setTimeout(()=>{this.width=this.selectElement.nativeElement.getBoundingClientRect().width,this._button=this._tempButton})}onCommand({value:e}){const{command:n,value:i}=this.button.items.find(r=>r.label===e);this.command.emit({command:n,value:i})}static#t=this.\u0275fac=function(n){return new(n||o)};static#e=this.\u0275cmp=t.VBU({type:o,selectors:[["st-dropdown"]],viewQuery:function(n,i){if(1&n&&t.GBs(V,5),2&n){let r;t.mGM(r=t.lsd())&&(i.selectElement=r.first)}},inputs:{button:"button"},outputs:{command:"command"},decls:5,vars:5,consts:[["select",""],[1,"st-select","st-toolbar-item",3,"change","title"],["value","","disabled","","selected","","hidden",""],[3,"value",4,"ngFor","ngForOf"],[3,"value"]],template:function(n,i){if(1&n){const r=t.RV6();t.j41(0,"select",1,0),t.bIt("change",function(b){t.eBV(r);const h=t.sdS(1);return i.onCommand(b.target),t.Njj(h.value="")}),t.j41(2,"option",2),t.EFF(3),t.k0s(),t.DNE(4,Y,2,2,"option",3),t.k0s()}2&n&&(t.xc7("width",i.width,"px"),t.Y8G("title",(null==i.button?null:i.button.title)||""),t.R7$(3),t.JRh(i.label),t.R7$(),t.Y8G("ngForOf",null==i.button?null:i.button.items))},dependencies:[l.Sq,s.xH,s.y7],styles:[".st-toolbar-item[_ngcontent-%COMP%]{border:0;padding:8px 14px;background-color:#fff;border-radius:5px;margin-right:1px;cursor:pointer}.st-toolbar-item[_ngcontent-%COMP%]:hover{background-color:#e0e0e0}.st-toolbar-item[_ngcontent-%COMP%]:focus{outline-color:#424242}"]})}return o})();const B={placeholder:"",buttons:gt};let R=(()=>{class o{set config(e){this._config={...B,...e}}get config(){return this._config}constructor(e,n){this.document=e,this.commandService=n,this._config=B,this.content="",this.toolbarItemType=c,this.isDisabled=!1,this.queryCommandState={}}ngAfterViewInit(){this.updateContentEditable()}writeValue(e){this.content=e,this.updateContentEditable()}registerOnChange(e){this.onChangeFn=e}registerOnTouched(e){this.onTouchedFn=e}setDisabledState(e){this.isDisabled=e}domModify(){this.contentEditable&&this.onChangeFn(this.contentEditable.nativeElement.innerHTML)}execCommand(e,n){this.contentEditable.nativeElement.focus(),this.commandService.execCommand(e,n),this.fetchQueryCommandState()}fetchQueryCommandState(){this.queryCommandState=this.commandService.getQueryCommandState(this.config.buttons)}trackBy(e,n){return n.name}updateContentEditable(){this.contentEditable&&(this.contentEditable.nativeElement.innerHTML=this.content)}static#t=this.\u0275fac=function(n){return new(n||o)(t.rXU(l.qQ),t.rXU(w))};static#e=this.\u0275cmp=t.VBU({type:o,selectors:[["st-editor"]],viewQuery:function(n,i){if(1&n&&t.GBs(L,5),2&n){let r;t.mGM(r=t.lsd())&&(i.contentEditable=r.first)}},inputs:{config:"config"},features:[t.Jv_([{provide:s.kq,useExisting:o,multi:!0},w])],decls:5,vars:6,consts:[["contentEditable",""],[1,"st-editor-container"],["tabIndex","0",1,"st-toolbar"],[3,"ngSwitch",4,"ngFor","ngForOf","ngForTrackBy"],[1,"st-area",3,"stDomModify","stSelectionChange","blur"],[3,"ngSwitch"],[4,"ngSwitchCase"],[3,"button","state","command",4,"ngIf"],[3,"button","state","command",4,"ngSwitchCase"],[3,"button","command",4,"ngSwitchCase"],[3,"command","button","state"],[3,"command","button"]],template:function(n,i){if(1&n){const r=t.RV6();t.j41(0,"div",1)(1,"div",2),t.DNE(2,z,7,7,"ng-container",3),t.k0s(),t.j41(3,"div",4,0),t.bIt("stDomModify",function(){return t.eBV(r),t.Njj(i.domModify())})("stSelectionChange",function(){return t.eBV(r),t.Njj(i.fetchQueryCommandState())})("blur",function(){return t.eBV(r),t.Njj(i.onTouchedFn())}),t.k0s()()}2&n&&(t.AVh("disabled",i.isDisabled),t.R7$(2),t.Y8G("ngForOf",i.config.buttons)("ngForTrackBy",i.trackBy),t.R7$(),t.BMQ("data-placeholder",i.config.placeholder)("contenteditable",!i.isDisabled))},dependencies:[l.Sq,l.bT,l.ux,l.e1,F,Ct,kt,Et,St,Mt,Ot,xt],styles:[".st-toolbar-item[_ngcontent-%COMP%]{border:0;padding:8px 14px;background-color:#fff;border-radius:5px;margin-right:1px;cursor:pointer}.st-toolbar-item[_ngcontent-%COMP%]:hover{background-color:#e0e0e0}.st-toolbar-item[_ngcontent-%COMP%]:focus{outline-color:#424242}.st-editor-container[_ngcontent-%COMP%]{position:relative}.st-editor-container.disabled[_ngcontent-%COMP%]{pointer-events:none;opacity:.5}.st-area[_ngcontent-%COMP%]{resize:vertical;overflow:auto;border:1px solid #bdbdbd;border-top:0;border-bottom-left-radius:5px;border-bottom-right-radius:5px;min-height:200px;padding:5px;background-color:#fff}.st-area[_ngcontent-%COMP%]:focus{outline-color:#424242}.st-area[_ngcontent-%COMP%]:empty:not(:focus):before{content:attr(data-placeholder);color:#bdbdbd;pointer-events:none}.st-toolbar[_ngcontent-%COMP%]{border-top-right-radius:5px;border-top-left-radius:5px;display:flex;flex-wrap:wrap;align-items:center;border:1px solid #bdbdbd;padding:5px;background-color:#fff}.st-toolbar[_ngcontent-%COMP%]:focus{outline-color:#424242}"]})}return o})(),T=(()=>{class o{static#t=this.\u0275fac=function(n){return new(n||o)};static#e=this.\u0275mod=t.$C({type:o});static#n=this.\u0275inj=t.G2t({imports:[l.MD,s.YN,s.X1]})}return o})();var f=u(4949),wt=u(5312),k=u(1318),E=u(7919),Ft=u(6443),_=u(4285);const Bt=(o,a)=>["/admin/edit/",o,a];function Rt(o,a){if(1&o&&(t.j41(0,"th",4),t.EFF(1),t.nI1(2,"translate"),t.k0s()),2&o){const e=a.$implicit;t.R7$(),t.SpI(" ",t.bMT(2,1,e)," ")}}function jt(o,a){if(1&o&&(t.j41(0,"td",8),t.EFF(1),t.k0s()),2&o){const e=a.$implicit;t.R7$(),t.SpI(" ",e," ")}}function Gt(o,a){if(1&o){const e=t.RV6();t.j41(0,"tr",6),t.DNE(1,jt,2,1,"td",7),t.j41(2,"td",8)(3,"button",9),t.nrm(4,"img",10),t.nI1(5,"translate"),t.nI1(6,"translate"),t.k0s(),t.j41(7,"button",11),t.bIt("click",function(){const i=t.eBV(e).$implicit,r=t.XpG(2);return t.Njj(r.deleteByID(i.id))}),t.nrm(8,"img",12),t.nI1(9,"translate"),t.nI1(10,"translate"),t.k0s()()()}if(2&o){const e=a.$implicit,n=t.XpG(2);t.R7$(),t.Y8G("ngForOf",n.getArrayDataFromJSON(e)),t.R7$(2),t.Y8G("routerLink",t.l_i(14,Bt,n.currentType,e.id)),t.R7$(),t.FS9("alt",t.bMT(5,6,"EDIT")),t.FS9("title",t.bMT(6,8,"EDIT")),t.R7$(4),t.FS9("alt",t.bMT(9,10,"DELETE")),t.FS9("title",t.bMT(10,12,"DELETE"))}}function Dt(o,a){if(1&o&&(t.j41(0,"div")(1,"table",1)(2,"thead")(3,"tr",2),t.DNE(4,Rt,3,3,"th",3),t.j41(5,"th",4),t.EFF(6),t.nI1(7,"translate"),t.k0s()()(),t.j41(8,"tbody"),t.DNE(9,Gt,11,17,"tr",5),t.k0s()(),t.j41(10,"p"),t.EFF(11),t.nI1(12,"translate"),t.k0s()()),2&o){const e=t.XpG();t.R7$(4),t.Y8G("ngForOf",e.getArrayFieldsFromJSON(e.data["hydra:member"][0])),t.R7$(2),t.JRh(t.bMT(7,5,"ACTIONS")),t.R7$(3),t.Y8G("ngForOf",e.data["hydra:member"]),t.R7$(2),t.Lme("",t.bMT(12,7,"TOTAL_ITEMS"),": ",e.data["hydra:totalItems"],"")}}let j=(()=>{class o{constructor(e,n,i){this.http=e,this.toaster=n,this.translateService=i}getArrayDataFromJSON(e){let n=[];for(let i of this.fields)n.push(e[i]);return n}getArrayFieldsFromJSON(e=[]){return this.fields=this.internalFieldsFilter(Object.keys(e)),this.fields}internalFieldsFilter(e){const n=["@id","@type"];return e.filter(i=>n.indexOf(i)<0)}deleteByID(e){return this.http.delete(wt.c.apiUrl+"/"+this.currentType+"/"+e,{observe:"response"}).pipe((0,k.W)(n=>(this.toaster.error(n.error.error),(0,E.$)(n)))).subscribe(()=>{this.toaster.success(this.translateService.instant("DELETED"));const n=this.data["hydra:member"].find(i=>i.id===e);this.data["hydra:member"].splice(this.data["hydra:member"].indexOf(n),1),this.data["hydra:totalItems"]-=1})}static#t=this.\u0275fac=function(n){return new(n||o)(t.rXU(Ft.Qq),t.rXU(_.tw),t.rXU(m.c$))};static#e=this.\u0275cmp=t.VBU({type:o,selectors:[["app-table"]],inputs:{data:"data",currentType:"currentType"},standalone:!0,features:[t.aNF],decls:1,vars:1,consts:[[4,"ngIf"],["role","table",1,"table","table-bordered"],["role","rowgroup",1,"table-row","text-center"],["role","columnheader","scope","col",4,"ngFor","ngForOf"],["role","columnheader","scope","col"],["class","table-body table-row text-center","role","rowgroup",4,"ngFor","ngForOf"],["role","rowgroup",1,"table-body","table-row","text-center"],["role","cell",4,"ngFor","ngForOf"],["role","cell"],[1,"btn","p-0",3,"routerLink"],["src","https://material-icons.github.io/material-icons/svg/edit/baseline.svg",1,"d-inline-block","align-top",3,"alt","title"],[1,"btn","ms-2","p-0",3,"click"],["src","https://material-icons.github.io/material-icons/svg/delete/baseline.svg",1,"d-inline-block","align-top",3,"alt","title"]],template:function(n,i){1&n&&t.DNE(0,Dt,13,9,"div",0),2&n&&t.Y8G("ngIf",i.data&&i.data["hydra:member"]&&i.data["hydra:totalItems"]>0)},dependencies:[l.bT,l.pM,f.Wk,m.h,m.D9],styles:["td[_ngcontent-%COMP%], th[_ngcontent-%COMP%]{max-width:20rem;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}@media (max-width: 992px){td[_ngcontent-%COMP%], th[_ngcontent-%COMP%]{max-width:15rem}}@media (max-width: 768px){td[_ngcontent-%COMP%], th[_ngcontent-%COMP%]{max-width:10rem}}@media (max-width: 576px){.table-body[_ngcontent-%COMP%]{border-top:unset}.table-row[_ngcontent-%COMP%]{display:flex;flex-direction:column;flex-wrap:wrap}td[_ngcontent-%COMP%], th[_ngcontent-%COMP%]{max-width:20rem}}"]})}return o})();var S=u(6126),I=u(8304),M=u(9156);const Nt=o=>["/admin/new/",o];let G=(()=>{class o{constructor(e,n,i){this.subjectService=e,this.unitService=n,this.exerciseService=i}ngOnInit(){this.subjects$=this.subjectService.get(),this.units$=this.unitService.get(),this.exercises$=this.exerciseService.get(),this.currentTab="subjects",this.currentService=this.subjectService}setCurrentNav(e){this.currentTab=e.target.id}setCurrentData(){switch(this.currentTab){case"subjects":this.currentService=this.subjectService,this.subjects$=this.subjectService.get();break;case"units":this.currentService=this.unitService,this.units$=this.unitService.get();break;case"exercises":this.currentService=this.exerciseService,this.exercises$=this.exerciseService.get()}}static#t=this.\u0275fac=function(n){return new(n||o)(t.rXU(S.M),t.rXU(I.I),t.rXU(M.G))};static#e=this.\u0275cmp=t.VBU({type:o,selectors:[["app-admin"]],standalone:!0,features:[t.aNF],decls:28,vars:30,consts:[["role","tablist",1,"nav","nav-tabs"],["role","presentation",1,"nav-item"],["id","subjects","data-bs-toggle","tab","data-bs-target","#nav-subjects","type","button","role","tab","aria-controls","nav-subjects","aria-selected","true",1,"nav-link","active",3,"click"],["id","units","data-bs-toggle","tab","data-bs-target","#nav-units","type","button","role","tab","aria-controls","nav-units","aria-selected","false",1,"nav-link",3,"click"],["id","exercises","data-bs-toggle","tab","data-bs-target","#nav-exercises","type","button","role","tab","aria-controls","nav-exercises","aria-selected","false",1,"nav-link",3,"click"],["type","button","role","button","aria-selected","false",1,"nav-link",3,"routerLink"],["src","https://material-icons.github.io/material-icons/svg/add/baseline.svg",1,"d-inline-block","align-top",3,"alt","title"],[1,"tab-content"],["id","nav-subjects","role","tabpanel","aria-labelledby","subjects",1,"tab-pane","fade","show","active"],[3,"currentType","data"],["id","nav-units","role","tabpanel","aria-labelledby","units",1,"tab-pane","fade"],["id","nav-exercises","role","tabpanel","aria-labelledby","exercises",1,"tab-pane","fade"]],template:function(n,i){1&n&&(t.j41(0,"ul",0)(1,"li",1)(2,"button",2),t.bIt("click",function(d){return i.setCurrentNav(d)}),t.EFF(3),t.nI1(4,"translate"),t.k0s()(),t.j41(5,"li",1)(6,"button",3),t.bIt("click",function(d){return i.setCurrentNav(d)}),t.EFF(7),t.nI1(8,"translate"),t.k0s()(),t.j41(9,"li",1)(10,"button",4),t.bIt("click",function(d){return i.setCurrentNav(d)}),t.EFF(11),t.nI1(12,"translate"),t.k0s()(),t.j41(13,"li",1)(14,"button",5),t.nrm(15,"img",6),t.nI1(16,"translate"),t.nI1(17,"translate"),t.k0s()()(),t.j41(18,"div",7)(19,"div",8),t.nrm(20,"app-table",9),t.nI1(21,"async"),t.k0s(),t.j41(22,"div",10),t.nrm(23,"app-table",9),t.nI1(24,"async"),t.k0s(),t.j41(25,"div",11),t.nrm(26,"app-table",9),t.nI1(27,"async"),t.k0s()()),2&n&&(t.R7$(3),t.SpI(" ",t.bMT(4,12,"SUBJECTS")," "),t.R7$(4),t.SpI(" ",t.bMT(8,14,"UNITS")," "),t.R7$(4),t.SpI(" ",t.bMT(12,16,"EXERCISES")," "),t.R7$(3),t.Y8G("routerLink",t.eq3(28,Nt,i.currentTab)),t.R7$(),t.FS9("alt",t.bMT(16,18,"ADD")),t.FS9("title",t.bMT(17,20,"ADD")),t.R7$(5),t.Y8G("currentType",i.currentTab)("data",t.bMT(21,22,i.subjects$)),t.R7$(3),t.Y8G("currentType",i.currentTab)("data",t.bMT(24,24,i.units$)),t.R7$(3),t.Y8G("currentType",i.currentTab)("data",t.bMT(27,26,i.exercises$)))},dependencies:[f.Wk,j,l.Jj,m.h,m.D9],encapsulation:2})}return o})();class Ut{static internalFieldsFilter(a){const e=["@id","@type","@context"];return a.filter(n=>e.indexOf(n)<0)}}function $t(o,a){if(1&o&&t.nrm(0,"input",9),2&o){const e=t.XpG(),n=e.$implicit,i=e.index,r=t.XpG();t.Y8G("id",n)("formControl",r.formControlsArray[i])}}function Pt(o,a){if(1&o&&t.nrm(0,"st-editor",10),2&o){const e=t.XpG().index,n=t.XpG();t.Y8G("formControl",n.formControlsArray[e])("config",n.config)}}function Xt(o,a){if(1&o&&(t.j41(0,"div",5)(1,"label",6),t.EFF(2),t.nI1(3,"translate"),t.k0s(),t.DNE(4,$t,1,2,"input",7)(5,Pt,1,2,"st-editor",8),t.k0s()),2&o){const e=a.$implicit,n=t.XpG();t.R7$(),t.Y8G("for",e),t.R7$(),t.JRh(t.bMT(3,4,e)),t.R7$(2),t.Y8G("ngIf","text"!==e),t.R7$(),t.Y8G("ngIf","units"===n.item&&"text"===e)}}let D=(()=>{class o{constructor(e,n,i,r,d,b,h,O){this.route=e,this.subjectService=n,this.unitService=i,this.exerciseService=r,this._formBuilder=d,this.toaster=b,this.translateService=h,this._location=O,this.htmlContent="",this.config={buttons:[v,p,C,y]},this.formControlsArray=[],this.form=this._formBuilder.group({formControlsArray:this._formBuilder.array([])})}ngOnInit(){this.route.paramMap.subscribe(e=>{switch(this.item=e.get("item"),this.item){case"subjects":this.currentService=this.subjectService;break;case"units":this.currentService=this.unitService;break;case"exercises":this.currentService=this.exerciseService}e.get("id")&&(this.id=parseInt(e.get("id"))),this.currentService.getOne(this.id).subscribe(n=>{this.data=n,this.fields=Ut.internalFieldsFilter(Object.keys(n));for(let i of this.fields){let r=this._formBuilder.control({value:this.data[i],disabled:"id"===i},s.k0.required);this.formControlsArray.push(r),this.form.addControl(i,r)}})})}backClicked(){this._location.back()}submit(){this.currentService.edit(this.id,this.form.value).pipe((0,k.W)(e=>(this.toaster.error(e.error["hydra:description"]),(0,E.$)(e)))).subscribe(()=>{this.toaster.success(this.translateService.instant("EDITED"))})}static#t=this.\u0275fac=function(n){return new(n||o)(t.rXU(f.nX),t.rXU(S.M),t.rXU(I.I),t.rXU(M.G),t.rXU(s.ze),t.rXU(_.tw),t.rXU(m.c$),t.rXU(l.aZ))};static#e=this.\u0275cmp=t.VBU({type:o,selectors:[["app-new-item"]],standalone:!0,features:[t.aNF],decls:9,vars:8,consts:[[1,"mb-3",3,"formGroup"],["class","mt-2",4,"ngFor","ngForOf"],[1,"form-actions","mt-3","text-center"],["type","submit",1,"btn","btn-outline-primary","me-3",3,"click"],[1,"btn","btn-outline",3,"click"],[1,"mt-2"],["role","button",1,"form-label",3,"for"],["type","text","class","form-control",3,"id","formControl",4,"ngIf"],[3,"formControl","config",4,"ngIf"],["type","text",1,"form-control",3,"id","formControl"],[3,"formControl","config"]],template:function(n,i){1&n&&(t.j41(0,"form",0),t.DNE(1,Xt,6,6,"div",1),t.j41(2,"div",2)(3,"button",3),t.bIt("click",function(){return i.submit()}),t.EFF(4),t.nI1(5,"translate"),t.k0s(),t.j41(6,"button",4),t.bIt("click",function(){return i.backClicked()}),t.EFF(7),t.nI1(8,"translate"),t.k0s()()()),2&n&&(t.Y8G("formGroup",i.form),t.R7$(),t.Y8G("ngForOf",i.fields),t.R7$(3),t.JRh(t.bMT(5,4,"SAVE")),t.R7$(3),t.JRh(t.bMT(8,6,"GO_BACK")))},dependencies:[s.YN,s.qT,s.me,s.BC,s.cb,s.X1,s.l_,s.j4,l.pM,l.bT,T,R,m.h,m.D9],encapsulation:2})}return o})();function At(o,a){if(1&o&&t.nrm(0,"input",9),2&o){const e=t.XpG(),n=e.$implicit,i=e.index,r=t.XpG();t.Y8G("id",n)("formControl",r.formControlsArray[i])}}function Vt(o,a){if(1&o&&t.nrm(0,"st-editor",10),2&o){const e=t.XpG().index,n=t.XpG();t.Y8G("formControl",n.formControlsArray[e])("config",n.config)}}function Yt(o,a){if(1&o&&(t.j41(0,"div",5)(1,"label",6),t.EFF(2),t.nI1(3,"translate"),t.k0s(),t.DNE(4,At,1,2,"input",7)(5,Vt,1,2,"st-editor",8),t.k0s()),2&o){const e=a.$implicit,n=t.XpG();t.R7$(),t.Y8G("for",e),t.R7$(),t.JRh(t.bMT(3,4,e)),t.R7$(2),t.Y8G("ngIf","text"!==e),t.R7$(),t.Y8G("ngIf","units"===n.item&&"text"===e)}}let N=(()=>{class o{constructor(e,n,i,r,d,b,h,O){this.route=e,this.subjectService=n,this.unitService=i,this.exerciseService=r,this._formBuilder=d,this.toaster=b,this.translateService=h,this._location=O,this.formControlsArray=[],this.config={buttons:[v,p,C,y]},this.form=this._formBuilder.group({formControlsArray:this._formBuilder.array([])})}ngOnInit(){this.route.paramMap.subscribe(e=>{switch(this.item=e.get("item"),this.item){case"subjects":this.currentService=this.subjectService,this.fields=["name","course"];break;case"units":this.currentService=this.unitService,this.fields=["title","text","subject"];break;case"exercises":this.currentService=this.exerciseService,this.fields=["title","question","answer","unit"]}for(let n of this.fields){let i=this._formBuilder.control("",s.k0.required);this.formControlsArray.push(i),this.form.addControl(n,i)}})}backClicked(){this._location.back()}submit(){this.currentService.add(this.form.value).pipe((0,k.W)(e=>(this.toaster.error(e.error["hydra:description"]),(0,E.$)(e)))).subscribe(()=>{this.toaster.success(this.translateService.instant("ADDED"))})}static#t=this.\u0275fac=function(n){return new(n||o)(t.rXU(f.nX),t.rXU(S.M),t.rXU(I.I),t.rXU(M.G),t.rXU(s.ze),t.rXU(_.tw),t.rXU(m.c$),t.rXU(l.aZ))};static#e=this.\u0275cmp=t.VBU({type:o,selectors:[["app-new-item"]],standalone:!0,features:[t.aNF],decls:9,vars:8,consts:[[1,"mb-3",3,"formGroup"],["class","mt-2",4,"ngFor","ngForOf"],[1,"form-actions","mt-3","text-center"],["type","submit",1,"btn","btn-outline-primary","me-3",3,"click"],[1,"btn","btn-outline",3,"click"],[1,"mt-2"],["role","button",1,"form-label",3,"for"],["type","text","class","form-control",3,"id","formControl",4,"ngIf"],[3,"formControl","config",4,"ngIf"],["type","text",1,"form-control",3,"id","formControl"],[3,"formControl","config"]],template:function(n,i){1&n&&(t.j41(0,"form",0),t.DNE(1,Yt,6,6,"div",1),t.j41(2,"div",2)(3,"button",3),t.bIt("click",function(){return i.submit()}),t.EFF(4),t.nI1(5,"translate"),t.k0s(),t.j41(6,"button",4),t.bIt("click",function(){return i.backClicked()}),t.EFF(7),t.nI1(8,"translate"),t.k0s()()()),2&n&&(t.Y8G("formGroup",i.form),t.R7$(),t.Y8G("ngForOf",i.fields),t.R7$(3),t.JRh(t.bMT(5,4,"SAVE")),t.R7$(3),t.JRh(t.bMT(8,6,"GO_BACK")))},dependencies:[s.YN,s.qT,s.me,s.BC,s.cb,s.X1,s.l_,s.j4,l.pM,l.bT,T,R,m.h,m.D9],encapsulation:2})}return o})();var Lt=u(9204),Ht=u(3769);let g=(()=>{class o{constructor(e,n,i,r){this.auth=e,this.router=n,this.toaster=i,this.translateService=r}canActivate(e,n){var i=this;return(0,Lt.A)(function*(){return!!i.auth.isAdmin()||(i.auth.isUser()?(i.toaster.error(i.translateService.instant("FORBIDDEN")),!1):(i.toaster.info(i.translateService.instant("LOGIN_PLEASE")),yield i.router.navigate(["/auth"],{queryParams:{returnUrl:n.url}}),!1))})()}static#t=this.\u0275fac=function(n){return new(n||o)(t.KVO(Ht.u),t.KVO(f.Ix),t.KVO(_.tw),t.KVO(m.c$))};static#e=this.\u0275prov=t.jDH({token:o,factory:o.\u0275fac})}return o})();const Jt=[{path:"",component:G,canActivate:[g]},{path:"new/:item",component:N,canActivate:[g]},{path:"edit/:item/:id",component:D,canActivate:[g]}];let Wt=(()=>{class o{static#t=this.\u0275fac=function(n){return new(n||o)};static#e=this.\u0275mod=t.$C({type:o});static#n=this.\u0275inj=t.G2t({imports:[f.iI.forChild(Jt),f.iI]})}return o})(),Qt=(()=>{class o{static#t=this.\u0275fac=function(n){return new(n||o)};static#e=this.\u0275mod=t.$C({type:o});static#n=this.\u0275inj=t.G2t({providers:[g],imports:[l.MD,Wt,m.h,s.YN,s.X1,T,G,j,D,N]})}return o})()}}]);
//# sourceMappingURL=870.5a1d4d194a3faa8a.js.map